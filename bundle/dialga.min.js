(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Dialga = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),AmdResolver=function(){function e(r){_classCallCheck(this,e),this.requireContext=r}return _createClass(e,[{key:"resolveAsync",value:function(e){var r=this;return new Promise(function(t,n){r.requireContext([e],t,n)})}}]),e}();exports["default"]=AmdResolver,module.exports=exports["default"];

},{}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_Kernel=require("./Kernel"),_Kernel2=_interopRequireDefault(_Kernel),_utilArrayFromTarget=require("./util/arrayFromTarget"),_utilArrayFromTarget2=_interopRequireDefault(_utilArrayFromTarget),Bundle=function(){function e(r){_classCallCheck(this,e),this.name=r,this._kernel=new _Kernel2["default"],this._modules=[]}return _createClass(e,[{key:"listModules",value:function(){return this._modules.slice()}},{key:"register",value:function(e,r){this._kernel.register(e,r)}},{key:"registerLazy",value:function(e,r){this._kernel.registerLazy(e,r)}},{key:"registerFactory",value:function(e,r){this._kernel.registerFactory(e,r)}},{key:"registerFactoryAsSingleton",value:function(e,r){this._kernel.registerFactoryAsSingleton(e,r)}},{key:"registerAsyncFactoryAsSingleton",value:function(e,r){this._kernel.registerAsyncFactoryAsSingleton(e,r)}},{key:"resolve",value:function(e){return this._kernel.resolve(e)}},{key:"resolveAsync",value:function(e){return this._kernel.resolveAsync(e)}},{key:"invoke",value:function(e,r,t){return this._kernel.invoke(e,r,t)}},{key:"invokeAsync",value:function(e,r,t){return this._kernel.invokeAsync(e,r,t)}},{key:"registerModules",value:function(e){var r=this,t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.ignore,s=void 0===n?[]:n,i=t.asyncModules,o=void 0===i?!1:i,a=t.namespace,u=void 0===a?"":a,l=t.transform,c=void 0===l?null:l,f=t.transformAsync,v=void 0===f?null:f,y=function(t){try{var n=function(){var n=!1;h=!0,k=!1,d=void 0;try{for(_=s[Symbol.iterator]();!(h=(m=_.next()).done);h=!0){var i=m.value;if(/\/$/.test(i)){if(t.startsWith(i)){n=!0;break}}else if(t===i){n=!0;break}}}catch(a){k=!0,d=a}finally{try{!h&&_["return"]&&_["return"]()}finally{if(k)throw d}}if(n)return{v:"continue"};var l=t.split("/"),f=u+t,y=l[l.length-1],g=e[t],A=_utilArrayFromTarget2["default"](e[t]),p=A.slice(0,A.length-1);A=A[A.length-1],o?!function(){var e=v||c;e&&(g=[].concat(_toConsumableArray(p),[function(){for(var r=arguments.length,n=Array(r),s=0;r>s;s++)n[s]=arguments[s];return Promise.resolve().then(function(){return A.apply(void 0,n)}).then(function(r){return e({name:t,instance:r})})}]))}():c&&(g=[].concat(_toConsumableArray(p),[function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return c({name:t,instance:A.apply(void 0,r)})}])),o?r._kernel.registerAsyncFactoryAsSingleton(f,g):r._kernel.registerFactoryAsSingleton(f,g),t.endsWith("/index")&&r._kernel.registerAlias(f.replace(/\/index$/,""),f),/^_/.test(y)&&!function(){var e=l.slice();e.pop(),e.push(y.substr(1));var t=u+e.join("/");r._kernel.redirects.push({redirect:function(e,r){return r&&r.isChildNode&&e===t?f:void 0}})}(),r._modules.push(f)}();if("object"==typeof n)return n.v}catch(i){throw new Error('Module registration failed for "'+t+'" because ['+i.message+"]")}};for(var g in e)var h,k,d,_,m,A=y(g)}},{key:"registerLink",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"":arguments[2];this._registerLink(e,r,t,!1)}},{key:"registerInternalLink",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"":arguments[2];this._registerLink(e,r,t,!0)}},{key:"delegate",value:function(e,r,t){this._delegate(e,r,t||e,!1)}},{key:"delegateInternal",value:function(e,r,t){this._delegate(e,r,t||e,!0)}},{key:"registerResolver",value:function(e,r){this.resolvers.push({resolve:function(t,n){return!r||n&&n.isChildNode?e.resolve(t,n):void 0}})}},{key:"registerAsyncResolver",value:function(e,r){var t=this;this.asyncResolvers.push({resolveAsync:function(n,s){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!r||s&&s.isChildNode)){t.next=2;break}return t.abrupt("return",e.resolveAsync(n,s));case 2:case"end":return t.stop()}},null,t)}})}},{key:"_registerLink",value:function(e,r,t,n){var s=this;this.registerResolver({resolve:function(n){return n.startsWith(e)?r._kernel.factoryFor(t+n.substr(e.length)):void 0}},n),this.registerAsyncResolver({resolveAsync:function(n){return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(!n.startsWith(e)){s.next=2;break}return s.abrupt("return",r._kernel.factoryForAsync(t+n.substr(e.length)));case 2:case"end":return s.stop()}},null,s)}},n)}},{key:"_delegate",value:function(e,r,t,n){var s=this,i="_"+e;this._kernel.registerFactory(e,[i,function(e){return e}]),this.registerResolver({resolve:function(e){return i===e?r._kernel.factoryFor(t):void 0}},n),this.registerAsyncResolver({resolveAsync:function(e){return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(i!==e){n.next=2;break}return n.abrupt("return",r._kernel.factoryForAsync(t));case 2:case"end":return n.stop()}},null,s)}})}},{key:"resolvers",get:function(){return this._kernel.resolvers}},{key:"asyncResolvers",get:function(){return this._kernel.asyncResolvers}},{key:"redirects",get:function(){return this._kernel.redirects}},{key:"localResolvers",get:function(){return this._kernel.localResolvers}}]),e}();exports["default"]=Bundle,module.exports=exports["default"];

},{"./Kernel":6,"./util/arrayFromTarget":15}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_util=require("./util"),CommonJsResolver=function(){function e(r){_classCallCheck(this,e),this.baseDir=r}return _createClass(e,[{key:"resolve",value:function(e){return require(_util.combinePaths(this.baseDir,e))}}]),e}();exports["default"]=CommonJsResolver,module.exports=exports["default"];

},{"./util":18}],4:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var Component=function e(t){_classCallCheck(this,e),this.recipe=t.clone(),this.parent=null,this.order=null,this.children=[],this.prep=[]};exports["default"]=Component,module.exports=exports["default"];

},{}],5:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _get=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;o=!1,null===n&&(n=Function.prototype);var l=Object.getOwnPropertyDescriptor(n,i);if(void 0!==l){if("value"in l)return l.value;var c=l.get;return void 0===c?void 0:c.call(a)}var s=Object.getPrototypeOf(n);if(null===s)return void 0;t=s,e=i,r=a,o=!0,l=s=void 0}},InvalidOperationError=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.name="InvalidOperationError",this.message=t}return _inherits(e,t),e}(Error);exports["default"]=InvalidOperationError,module.exports=exports["default"];

},{}],6:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_AmdResolver=require("./AmdResolver"),_AmdResolver2=_interopRequireDefault(_AmdResolver),_CommonJsResolver=require("./CommonJsResolver"),_CommonJsResolver2=_interopRequireDefault(_CommonJsResolver),_LazyResolver=require("./LazyResolver"),_LazyResolver2=_interopRequireDefault(_LazyResolver),_Linker=require("./Linker"),_Linker2=_interopRequireDefault(_Linker),_OptionalResolver=require("./OptionalResolver"),_OptionalResolver2=_interopRequireDefault(_OptionalResolver),_OptionalLocalResolver=require("./OptionalLocalResolver"),_OptionalLocalResolver2=_interopRequireDefault(_OptionalLocalResolver),_Recipe=require("./Recipe"),_Recipe2=_interopRequireDefault(_Recipe),_Registry=require("./Registry"),_Registry2=_interopRequireDefault(_Registry),_util=require("./util"),Kernel=function(){function e(){_classCallCheck(this,e),this._registry=new _Registry2["default"],this._linker=new _Linker2["default"],this._linker.delegate=this._registry,this._registry.resolvers.push(new _LazyResolver2["default"](this)),this._registry.resolvers.push(new _OptionalResolver2["default"](this)),this._registry.asyncResolvers.push(new _OptionalResolver2["default"](this)),this.localResolvers=[new _OptionalLocalResolver2["default"](this)]}return _createClass(e,[{key:"resolve",value:function(e){return this.invoke([e,function(e){return e}])}},{key:"resolveAsync",value:function(e){return this.invokeAsync([e,function(e){return e}])}},{key:"invoke",value:function(e,r,t){return this.factoryFrom(e,r,t)()}},{key:"invokeChild",value:function(e,r,t){return this.factoryFromChild(e,r,t)()}},{key:"invokeAsync",value:function(e,r,t){return this.factoryFromAsync(e,r,t).then(function(e){return e()})}},{key:"invokeChildAsync",value:function(e,r,t){return this.factoryFromChildAsync(e,r,t).then(function(e){return e()})}},{key:"factoryFrom",value:function(e,r,t){return this._linker.factoryFromRecipe(this._recipeFromArgs(e,r,t))}},{key:"factoryFromAsync",value:function(e,r,t){return this._linker.factoryFromRecipeAsync(this._recipeFromArgs(e,r,t))}},{key:"factoryFromChild",value:function(e,r,t){return this._linker.factoryFromRecipe(this._childRecipeFromArgs(e,r,t))}},{key:"factoryFromChildAsync",value:function(e,r,t){return this._linker.factoryFromRecipeAsync(this._childRecipeFromArgs(e,r,t))}},{key:"factoryFor",value:function(e){return this.factoryFrom([e,function(e){return e}])}},{key:"factoryForAsync",value:function(e){return this.factoryFromAsync([e,function(e){return e}])}},{key:"register",value:function(e,r){this.registerFactory(e,function(){return r})}},{key:"registerLazy",value:function(e,r){this.registerAsyncFactoryAsSingleton(e,function(){return r})}},{key:"unregister",value:function(e){delete this._registry.targets[e],delete this._registry.asyncTargets[e]}},{key:"registerFactory",value:function(e,r){_util.validateTarget(r),this._registry.targets[e]=r}},{key:"registerFactoryAsSingleton",value:function(e,r){_util.validateTarget(r),this._registry.targets[e]=this._singletonFactory(r)}},{key:"registerAsyncFactory",value:function(e,r){_util.validateTarget(r),this._registry.asyncTargets[e]=this._asyncFactory(e,r)}},{key:"registerAsyncFactoryAsSingleton",value:function(e,r){_util.validateTarget(r),r=this._asyncFactory(e,r);var t;this._registry.asyncTargets[e]=function(){return void 0===t&&(t=r()),t}}},{key:"registerAlias",value:function(e,r){this._registry.redirects.push({redirect:function(t){return t===e?r:void 0}})}},{key:"delegate",value:function(e,r){var t=_util.matchFromPattern(e);this._registry.resolvers.push({resolve:function(e,n){return t(e)?r(e,n):void 0}})}},{key:"delegateAsync",value:function(e,r){var t=_util.matchFromPattern(e);this._registry.asyncResolvers.push({resolveAsync:function(e,n){return Promise.resolve().then(function(){return t(e)?r(e,n):void 0})}})}},{key:"delegateNamespace",value:function(e,r){this._registry.resolvers.push({resolve:function(t){return t.startsWith(e)?r.factoryFor(t.substr(e.length)):void 0}}),this._registry.asyncResolvers.push({resolveAsync:function(t){return Promise.resolve().then(function(){return t.startsWith(e)?r.factoryForAsync(t.substr(e.length)):void 0})}})}},{key:"targetForName",value:function(e){return this._registry.targets[e]}},{key:"asyncTargetForName",value:function(e){var r=this;if(this._registry.asyncTargets[e])return this._registry.asyncTargets[e];if(this._registry.targets[e]){var t=function(){var t=r._registry.targets[e];return{v:function(){return Promise.resolve(t)}}}();if("object"==typeof t)return t.v}}},{key:"_recipeFromArgs",value:function(e,r,t){var n=this;e&&"string"!=typeof e&&(t=r,r=e,e=null);var i=_util.recipeFromTarget(r);return i.name=e||i.name,t&&(i.ingredients=i.ingredients.map(function(e){var r=t[e];return void 0===r&&(r=n.localResolvers.reduce(function(r,n){return void 0===r?n.resolve(e,t):r},void 0)),void 0!==r?function(){return r}:e})),i}},{key:"_childRecipeFromArgs",value:function(e,r,t){return new _Recipe2["default"]({create:function(e){return e},ingredients:[this._recipeFromArgs(e,r,t)]})}},{key:"_singletonFactory",value:function(e){var r,t=_util.recipeFromTarget(e);return t.ingredients.concat(function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];return void 0===r&&(r=t.create.apply(void 0,n)),r})}},{key:"_asyncFactory",value:function(e,r){var t=this,n=_util.recipeFromTarget(r);return function(){return t.invokeChildAsync(e,n.ingredients.concat([function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return Promise.resolve().then(function(){return n.create.apply(void 0,r)}).then(function(e){return function(){return e}})}]))}}},{key:"resolvers",get:function(){return this._registry.resolvers},set:function(e){this._registry.resolvers=e}},{key:"asyncResolvers",get:function(){return this._registry.asyncResolvers},set:function(e){this._registry.asyncResolvers=e}},{key:"redirects",get:function(){return this._registry.redirects},set:function(e){this._registry.redirects=e}}]),e}();exports["default"]=Kernel,module.exports=exports["default"];

},{"./AmdResolver":1,"./CommonJsResolver":3,"./LazyResolver":7,"./Linker":8,"./OptionalLocalResolver":9,"./OptionalResolver":10,"./Recipe":11,"./Registry":12,"./util":18}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),LazyResolver=function(){function e(n){_classCallCheck(this,e),this.kernel=n,this.pattern=/\.\.\.$/}return _createClass(e,[{key:"resolve",value:function(e,n){var r=this;if(this.pattern.test(e)){e=e.substr(0,e.length-3);var t;return function(){return t||!function(){t=Promise.resolve();var a=void 0;t.then=function(){for(var t=arguments.length,o=Array(t),s=0;t>s;s++)o[s]=arguments[s];return a||(a=Promise.resolve().then(function(){var t=[e,function(e){return e}];return n&&n.isChildNode?r.kernel.invokeChildAsync(n.name,t):r.kernel.invokeAsync(t)})),a.then.apply(a,o)}}(),t}}}}]),e}();exports["default"]=LazyResolver,module.exports=exports["default"];

},{}],8:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),_Recipe=require("./Recipe"),_Recipe2=_interopRequireDefault(_Recipe),_Component=require("./Component"),_Component2=_interopRequireDefault(_Component),_util=require("./util"),_InvalidOperationError=require("./InvalidOperationError"),_InvalidOperationError2=_interopRequireDefault(_InvalidOperationError),Linker=function(){function e(){_classCallCheck(this,e),this.delegate=null}return _createClass(e,[{key:"factoryFromRecipe",value:function(e){for(var r=this,n=this._componentFromRecipe(e),t=[n],i=function(){var e=t.shift();e.recipe.ingredients.forEach(function(n,i){var o;o="string"==typeof n?r.delegate.recipeForName(n,{name:e.recipe.name,isChildNode:!!e.parent}):n instanceof _Recipe2["default"]?n:_util.recipeFromTarget(n);var a=r._makeChildComponent(e,o,i);t.push(a)})};t.length>0;)i();return this._factoryFromComponent(n)}},{key:"factoryFromRecipeAsync",value:function(e){var r=this;return Promise.resolve().then(function(){var n=r._componentFromRecipe(e),t=function i(e){return r.delegate.recipesByNameAsync(e.recipe.ingredients.filter(function(e){return"string"==typeof e}),{name:e.recipe.name,isChildNode:!!e.parent}).then(function(n){return Promise.all(e.recipe.ingredients.map(function(t,i){var o;return o="string"==typeof t?n[t]:t instanceof _Recipe2["default"]?t:_util.recipeFromTarget(t),r._makeChildComponent(e,o,i)}).map(i))})};return t(n).then(function(){return r._factoryFromComponent(n)})})}},{key:"_factoryFromComponent",value:function(e){for(var r=[],n=[e];n.length>0;){var t=n.shift();r.push(t),n=n.concat(t.children)}return r.reverse().pop(),function(){for(var n=arguments.length,t=Array(n),i=0;n>i;i++)t[i]=arguments[i];for(var o=0,a=r.length;a>o;o++){var c=r[o];c.parent.prep[c.order]=c.recipe.create.apply(void 0,c.prep),c.prep=[]}return t=e.prep.concat(t),e.prep=[],e.recipe.create.apply(void 0,t)}}},{key:"_makeChildComponent",value:function(e,r,n){var t=this._componentFromRecipe(r,{parent:e,order:n});return e.children[n]=t,this._checkForCircularDependency(t),t}},{key:"_checkForCircularDependency",value:function(e){for(var r=e.parent,n=e;r;){if(null!==r.recipe.name&&r.recipe.name===e.recipe.name)throw new _InvalidOperationError2["default"]("Detected circular dependency to '"+e.recipe.name+"' through '"+n.recipe.name+"'.");n=r,r=r.parent}}},{key:"_componentFromRecipe",value:function(e,r){var n=this,t=new _Component2["default"](e);return r&&(t.parent=r.parent,t.order=r.order),t.recipe.ingredients=t.recipe.ingredients.map(function(e){return"string"==typeof e?n.delegate.resolveName(e,{name:t.recipe.name,isChildNode:!!t.parent}):e}),t}}]),e}();exports["default"]=Linker,module.exports=exports["default"];

},{"./Component":4,"./InvalidOperationError":5,"./Recipe":11,"./util":18}],9:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),OptionalLocalResolver=function(){function e(t){_classCallCheck(this,e),this.kernel=t,this.pattern=/\?$/}return _createClass(e,[{key:"resolve",value:function(e,t){return this.pattern.test(e)?(e=e.substr(0,e.length-1),t[e]):void 0}}]),e}();exports["default"]=OptionalLocalResolver,module.exports=exports["default"];

},{}],10:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),OptionalResolver=function(){function e(t){_classCallCheck(this,e),this.kernel=t,this.pattern=/\?$/}return _createClass(e,[{key:"resolve",value:function(e){return this.pattern.test(e)?(e=e.substr(0,e.length-1),this.kernel.targetForName(e)?this.kernel.factoryFor(e):function(){return void 0}):void 0}},{key:"resolveAsync",value:function(e){return this.pattern.test(e)?(e=e.substr(0,e.length-1),this.kernel.asyncTargetForName(e)?this.kernel.factoryForAsync(e):Promise.resolve(function(){return void 0})):Promise.resolve()}}]),e}();exports["default"]=OptionalResolver,module.exports=exports["default"];

},{}],11:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Recipe=function(){function e(t){_classCallCheck(this,e),t=t||{},this.name=t.name||null,this.create=t.create,this.ingredients=(t.ingredients||[]).slice()}return _createClass(e,[{key:"clone",value:function(){return new e(this)}}]),e}();exports["default"]=Recipe,module.exports=exports["default"];

},{}],12:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_Recipe=require("./Recipe"),_Recipe2=_interopRequireDefault(_Recipe),_util=require("./util"),_ServiceNotFoundError=require("./ServiceNotFoundError"),_ServiceNotFoundError2=_interopRequireDefault(_ServiceNotFoundError),_InvalidOperationError=require("./InvalidOperationError"),_InvalidOperationError2=_interopRequireDefault(_InvalidOperationError),Registry=function(){function e(){_classCallCheck(this,e),this.targets={},this.asyncTargets={},this.resolvers=[],this.asyncResolvers=[],this.redirects=[]}return _createClass(e,[{key:"recipeForName",value:function(e,r){return this._recipeFromTarget(e,this._locateTarget(e,r))}},{key:"recipesByNameAsync",value:function(e,r){var t=this;return e=_util.distinct(e),Promise.all(e.map(function(e){return t._locateTargetAsync(e,r)})).then(function(r){for(var n={},i=0;i<e.length;i++){var a=e[i];n[a]=t._recipeFromTarget(a,r[i])}return n})}},{key:"resolveName",value:function(e,r){for(var t=e,n=[];;){if(n.indexOf(e)>-1)throw new _InvalidOperationError2["default"]("Redirect loop encountered while resolving '"+e+"' for '"+t+"'");n.push(e);var i=this.redirects.reduce(function(t,n){return t||n.redirect(e,r)},null);if(!i)return e;e=i}}},{key:"_recipeFromTarget",value:function(e,r){var t=_util.recipeFromTarget(r),n=t.ingredients,i=t.create;return new _Recipe2["default"]({name:e,create:i,ingredients:n})}},{key:"_locateTarget",value:function(e,r){if(this.targets[e])return this.targets[e];var t=this.resolvers.reduce(function(t,n){return t||n.resolve(e,r)},null);if(void 0===t){var n="Could not locate service '"+e+"'";throw r&&r.name&&(n+=" for '"+r.name+"'"),new _ServiceNotFoundError2["default"](n)}return _util.validateTarget(t),t}},{key:"_locateTargetAsync",value:function(e,r){var t=this;if(this.asyncTargets[e])return this.asyncTargets[e]();if(this.targets[e])return this.targets[e];var n=this.asyncResolvers.slice(),i=function a(){var t=n.shift();return t?t.resolveAsync(e,r).then(function(e){return e||a()}):void 0};return Promise.resolve().then(i).then(function(n){return void 0===n?t._locateTarget(e,r):(_util.validateTarget(n),n)})}}]),e}();exports["default"]=Registry,module.exports=exports["default"];

},{"./InvalidOperationError":5,"./Recipe":11,"./ServiceNotFoundError":13,"./util":18}],13:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _get=function(t,e,r){for(var o=!0;o;){var n=t,i=e,c=r;o=!1,null===n&&(n=Function.prototype);var u=Object.getOwnPropertyDescriptor(n,i);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(c)}var l=Object.getPrototypeOf(n);if(null===l)return void 0;t=l,e=i,r=c,o=!0,u=l=void 0}},ServiceNotFoundError=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.name="ServiceNotFoundError",this.message=t}return _inherits(e,t),e}(Error);exports["default"]=ServiceNotFoundError,module.exports=exports["default"];

},{}],14:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _AmdResolver=require("./AmdResolver"),_AmdResolver2=_interopRequireDefault(_AmdResolver),_Bundle=require("./Bundle"),_Bundle2=_interopRequireDefault(_Bundle),_CommonJsResolver=require("./CommonJsResolver"),_CommonJsResolver2=_interopRequireDefault(_CommonJsResolver),_InvalidOperationError=require("./InvalidOperationError"),_InvalidOperationError2=_interopRequireDefault(_InvalidOperationError),_Kernel=require("./Kernel"),_Kernel2=_interopRequireDefault(_Kernel),_LazyResolver=require("./LazyResolver"),_LazyResolver2=_interopRequireDefault(_LazyResolver),_ServiceNotFoundError=require("./ServiceNotFoundError"),_ServiceNotFoundError2=_interopRequireDefault(_ServiceNotFoundError);exports["default"]={AmdResolver:_AmdResolver2["default"],Bundle:_Bundle2["default"],CommonJsResolver:_CommonJsResolver2["default"],InvalidOperationError:_InvalidOperationError2["default"],Kernel:_Kernel2["default"],LazyResolver:_LazyResolver2["default"],ServiceNotFoundError:_ServiceNotFoundError2["default"]},module.exports=exports["default"];

},{"./AmdResolver":1,"./Bundle":2,"./CommonJsResolver":3,"./InvalidOperationError":5,"./Kernel":6,"./LazyResolver":7,"./ServiceNotFoundError":13}],15:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){var t;return"function"==typeof e?t=e.$inject||[]:(t=e.slice(),e=t.pop()),t.concat([e])},module.exports=exports["default"];

},{}],16:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return r.map(function(e,r){return 0===r?e.replace(/\/$/,""):e.replace(/(^\/|\/$)/g,"")}).join("/")},module.exports=exports["default"];

},{}],17:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){return e.reduce(function(e,t){return-1===e.indexOf(t)?e.concat([t]):e},[])},module.exports=exports["default"];

},{}],18:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _arrayFromTarget=require("./arrayFromTarget"),_arrayFromTarget2=_interopRequireDefault(_arrayFromTarget),_combinePaths=require("./combinePaths"),_combinePaths2=_interopRequireDefault(_combinePaths),_distinct=require("./distinct"),_distinct2=_interopRequireDefault(_distinct),_matchFromPattern=require("./matchFromPattern"),_matchFromPattern2=_interopRequireDefault(_matchFromPattern),_recipeFromTarget=require("./recipeFromTarget"),_recipeFromTarget2=_interopRequireDefault(_recipeFromTarget),_validateTarget=require("./validateTarget"),_validateTarget2=_interopRequireDefault(_validateTarget);exports["default"]={arrayFromTarget:_arrayFromTarget2["default"],combinePaths:_combinePaths2["default"],distinct:_distinct2["default"],matchFromPattern:_matchFromPattern2["default"],recipeFromTarget:_recipeFromTarget2["default"],validateTarget:_validateTarget2["default"]},module.exports=exports["default"];

},{"./arrayFromTarget":15,"./combinePaths":16,"./distinct":17,"./matchFromPattern":19,"./recipeFromTarget":20,"./validateTarget":21}],19:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(t){return"function"==typeof t?t:"string"==typeof t?function(e){return e===t}:function(e){return t.test(e)}},module.exports=exports["default"];

},{}],20:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _Recipe=require("../Recipe"),_Recipe2=_interopRequireDefault(_Recipe),_arrayFromTarget=require("./arrayFromTarget"),_arrayFromTarget2=_interopRequireDefault(_arrayFromTarget);exports["default"]=function(e){return e=_arrayFromTarget2["default"](e),new _Recipe2["default"]({create:e[e.length-1],ingredients:e.slice(0,e.length-1)})},module.exports=exports["default"];

},{"../Recipe":11,"./arrayFromTarget":15}],21:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){if("function"!=typeof e){if(!Array.isArray(e))throw new Error("Expected target to be an array or function.");if("function"!=typeof e[e.length-1])throw new Error("The last element of an array target should be a function.")}},module.exports=exports["default"];

},{}]},{},[14])(14)
});
//# sourceMappingURL=dialga.min.js.map?88c96933502f82e253cf1d28ae6735fd6ec41a56
