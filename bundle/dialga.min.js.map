{
  "version": 3,
  "sources": [
    "node_modules/arceus/node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/Bundle.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/Component.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/InvalidOperationError.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/Kernel.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/LazyResolver.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/Linker.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/OptionalLocalResolver.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/OptionalResolver.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/Recipe.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/Registry.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/ServiceNotFoundError.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/index.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/util/arrayFromTarget.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/util/combinePaths.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/util/distinct.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/util/index.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/util/matchFromPattern.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/util/recipeFromTarget.js",
    "/Users/stephen/code/stephenbunch/dialga/src/common/util/validateTarget.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA,YAQA,SAAS,wBAAuB,GAAO,MAAO,IAAO,EAAI,WAAa,GAAQ,UAAW,GAEzF,QAAS,oBAAmB,GAAO,GAAI,MAAM,QAAQ,GAAM,CAAE,IAAK,GAAI,GAAI,EAAG,EAAO,MAAM,EAAI,QAAS,EAAI,EAAI,OAAQ,IAAK,EAAK,GAAK,EAAI,EAAI,OAAO,GAAe,MAAO,OAAM,KAAK,GAEtL,QAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCAVhH,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,cAAe,WAAe,QAAS,GAAiB,EAAQ,GAAS,IAAK,GAAI,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CAAE,GAAI,GAAa,EAAM,EAAI,GAAW,WAAa,EAAW,aAAc,EAAO,EAAW,cAAe,EAAU,SAAW,KAAY,EAAW,UAAW,GAAM,OAAO,eAAe,EAAQ,EAAW,IAAK,IAAiB,MAAO,UAAU,EAAa,EAAY,GAAiJ,MAA9H,IAAY,EAAiB,EAAY,UAAW,GAAiB,GAAa,EAAiB,EAAa,GAAqB,MAQ7hB,QAAU,QAAQ,YAElB,SAAW,uBAAuB,SAElC,qBAAuB,QAAQ,0BAE/B,sBAAwB,uBAAuB,sBAE/C,OAAS,WACX,QAAS,GAAO,GACd,gBAAgB,KAAM,GAEtB,KAAK,KAAO,EACZ,KAAK,QAAU,GAAI,UAAS,WAC5B,KAAK,YAyZP,MAtZA,cAAa,IACX,IAAK,cACL,MAAO,WACL,MAAO,MAAK,SAAS,WAGvB,IAAK,WACL,MAAO,SAAkB,EAAM,GAC7B,KAAK,QAAQ,SAAS,EAAM,MAG9B,IAAK,eACL,MAAO,SAAsB,EAAM,GACjC,KAAK,QAAQ,aAAa,EAAM,MAGlC,IAAK,kBACL,MAAO,SAAyB,EAAM,GACpC,KAAK,QAAQ,gBAAgB,EAAM,MAGrC,IAAK,6BACL,MAAO,SAAoC,EAAM,GAC/C,KAAK,QAAQ,2BAA2B,EAAM,MAGhD,IAAK,kCACL,MAAO,SAAyC,EAAM,GACpD,KAAK,QAAQ,gCAAgC,EAAM,MAGrD,IAAK,UACL,MAAO,SAAiB,GACtB,MAAO,MAAK,QAAQ,QAAQ,MAG9B,IAAK,eACL,MAAO,SAAsB,GAC3B,MAAO,MAAK,QAAQ,aAAa,MAGnC,IAAK,SACL,MAAO,SAAgB,EAAM,EAAQ,GACnC,MAAO,MAAK,QAAQ,OAAO,EAAM,EAAQ,MAG3C,IAAK,cACL,MAAO,SAAqB,EAAM,EAAQ,GACxC,MAAO,MAAK,QAAQ,YAAY,EAAM,EAAQ,MAGhD,IAAK,kBACL,MAAO,SAAyB,GAC9B,GAAI,GAAQ,KAER,EAAO,UAAU,QAAU,GAAsB,SAAjB,UAAU,MAAwB,UAAU,GAE5E,EAAc,EAAK,OACnB,EAAyB,SAAhB,KAAiC,EAC1C,EAAoB,EAAK,aACzB,EAAqC,SAAtB,GAAkC,EAAQ,EACzD,EAAiB,EAAK,UACtB,EAA+B,SAAnB,EAA+B,GAAK,EAChD,EAAiB,EAAK,UACtB,EAA+B,SAAnB,EAA+B,KAAO,EAClD,EAAsB,EAAK,eAC3B,EAAyC,SAAxB,EAAoC,KAAO,EAE5D,EAAQ,SAAU,GACpB,IACE,GAAI,GAAQ,WAEV,GAAI,IAAO,CACX,IAAI,YAAkB,QACpB,EAAO,EAAO,KAAK,OACd,CACL,GAA4B,EAC5B,GAAoB,EACpB,EAAiB,MAEjB,KACE,IAAK,EAAY,EAAO,OAAO,cAAe,GAA6B,EAAQ,EAAU,QAAQ,MAAO,GAA4B,EAAM,CAC5I,GAAI,GAAO,EAAM,KAEjB,IAAI,MAAM,KAAK,IACb,GAAI,EAAI,WAAW,GAAO,CACxB,GAAO,CACP,YAGF,IAAI,IAAQ,EAAM,CAChB,GAAO,CACP,SAIN,MAAO,GACP,GAAoB,EACpB,EAAiB,EACjB,QACA,KACO,GAA6B,EAAU,WAC1C,EAAU,YAEZ,QACA,GAAI,EACF,KAAM,KAKd,GAAI,EACF,OACE,EAAG,WAIP,IAAI,GAAW,EAAI,MAAM,KACrB,EAAW,EAAY,EACvB,EAAY,EAAS,EAAS,OAAS,GAEvC,EAAU,EAAQ,GAElB,GAAI,EAAI,sBAAsB,YAAY,EAAQ,IAClD,EAAO,EAAE,MAAM,EAAG,EAAE,OAAS,EACjC,GAAI,EAAE,EAAE,OAAS,GAEb,GACF,WACE,GAAI,GAAI,GAAkB,CACtB,KACF,KAAa,OAAO,mBAAmB,IAAQ,WAC7C,IAAK,GAAI,GAAO,UAAU,OAAQ,EAAO,MAAM,GAAO,EAAO,EAAU,EAAP,EAAa,IAC3E,EAAK,GAAQ,UAAU,EAGzB,OAAO,SAAQ,UAAU,KAAK,WAC5B,MAAO,GAAE,MAAM,OAAW,KACzB,KAAK,SAAU,GAChB,MAAO,IAAI,KAAM,EAAK,SAAU,aAK/B,IACT,KAAa,OAAO,mBAAmB,IAAQ,WAC7C,IAAK,GAAI,GAAQ,UAAU,OAAQ,EAAO,MAAM,GAAQ,EAAQ,EAAW,EAAR,EAAe,IAChF,EAAK,GAAS,UAAU,EAG1B,OAAO,IACL,KAAM,EACN,SAAU,EAAE,MAAM,OAAW,SAK/B,EACF,EAAM,QAAQ,gCAAgC,EAAU,GAExD,EAAM,QAAQ,2BAA2B,EAAU,GAKjD,EAAI,SAAS,WACf,EAAM,QAAQ,cAAc,EAAS,QAAQ,WAAY,IAAK,GAa5D,KAAK,KAAK,KACZ,WACE,GAAI,GAAO,EAAS,OACpB,GAAK,MACL,EAAK,KAAK,EAAU,OAAO,GAC3B,IAAI,GAAgB,EAAY,EAAK,KAAK,IAC1C,GAAM,QAAQ,UAAU,MACtB,SAAU,SAAkB,EAAM,GAChC,MAAI,IAAa,EAAU,aAAe,IAAS,EAC1C,EADT,aAQR,EAAM,SAAS,KAAK,KAGtB,IAAqB,gBAAV,GAAoB,MAAO,GAAM,EAC5C,MAAO,GACP,KAAM,IAAI,OAAM,mCAAqC,EAAM,cAAgB,EAAI,QAAU,MAI7F,KAAK,GAAI,KAAO,GACd,GAAI,GAEA,EAEA,EAEA,EAAW,EAEX,EAAO,EAAM,MAYrB,IAAK,eACL,MAAO,SAAsB,EAAe,GAC1C,GAAI,GAAc,UAAU,QAAU,GAAsB,SAAjB,UAAU,GAAmB,GAAK,UAAU,EAEvF,MAAK,cAAc,EAAe,EAAU,GAAa,MAS3D,IAAK,uBACL,MAAO,SAA8B,EAAe,GAClD,GAAI,GAAc,UAAU,QAAU,GAAsB,SAAjB,UAAU,GAAmB,GAAK,UAAU,EAEvF,MAAK,cAAc,EAAe,EAAU,GAAa,MAS3D,IAAK,WACL,MAAO,SAAkB,EAAM,EAAU,GACvC,KAAK,UAAU,EAAM,EAAU,GAAU,GAAM,MASjD,IAAK,mBACL,MAAO,SAA0B,EAAM,EAAU,GAC/C,KAAK,UAAU,EAAM,EAAU,GAAU,GAAM,MAGjD,IAAK,mBACL,MAAO,SAA0B,EAAU,GACzC,KAAK,UAAU,MACb,QAAS,SAAiB,EAAM,GAC9B,OAAK,GAAc,GAAa,EAAU,YACjC,EAAS,QAAQ,EAAM,GADhC,aAON,IAAK,wBACL,MAAO,SAA+B,EAAU,GAC9C,GAAI,GAAS,IAEb,MAAK,eAAe,MAClB,aAAc,SAAsB,EAAM,GACxC,MAAO,oBAAmB,MAAM,SAAuB,GACrD,OAAU,OAAQ,EAAY,KAAO,EAAY,MAC/C,IAAK,GACH,MAAO,GAAc,GAAa,EAAU,aAAc,CACxD,EAAY,KAAO,CACnB,OAGF,MAAO,GAAY,OAAO,SAAU,EAAS,aAAa,EAAM,GAElE,KAAK,GACL,IAAK,MACH,MAAO,GAAY,SAEtB,KAAM,SAYf,IAAK,gBACL,MAAO,SAAuB,EAAe,EAAU,EAAa,GAClE,GAAI,GAAS,IAEb,MAAK,kBACH,QAAS,SAAiB,GACxB,MAAI,GAAK,WAAW,GACX,EAAS,QAAQ,WAAW,EAAc,EAAK,OAAO,EAAc,SAD7E,SAID,GACH,KAAK,uBACH,aAAc,SAAsB,GAClC,MAAO,oBAAmB,MAAM,SAAuB,GACrD,OAAU,OAAQ,EAAY,KAAO,EAAY,MAC/C,IAAK,GACH,IAAK,EAAK,WAAW,GAAgB,CACnC,EAAY,KAAO,CACnB,OAGF,MAAO,GAAY,OAAO,SAAU,EAAS,QAAQ,gBAAgB,EAAc,EAAK,OAAO,EAAc,SAE/G,KAAK,GACL,IAAK,MACH,MAAO,GAAY,SAEtB,KAAM,KAEV,MAUL,IAAK,YACL,MAAO,SAAmB,EAAM,EAAU,EAAQ,GAChD,GAAI,GAAS,KAET,EAAM,IAAM,CAChB,MAAK,QAAQ,gBAAgB,GAAO,EAAK,SAAU,GACjD,MAAO,MAET,KAAK,kBACH,QAAS,SAAiB,GACxB,MAAI,KAAQ,EACH,EAAS,QAAQ,WAAW,GADrC,SAID,GACH,KAAK,uBACH,aAAc,SAAsB,GAClC,MAAO,oBAAmB,MAAM,SAAuB,GACrD,OAAU,OAAQ,EAAY,KAAO,EAAY,MAC/C,IAAK,GACH,GAAM,IAAQ,EAAS,CACrB,EAAY,KAAO,CACnB,OAGF,MAAO,GAAY,OAAO,SAAU,EAAS,QAAQ,gBAAgB,GAEvE,KAAK,GACL,IAAK,MACH,MAAO,GAAY,SAEtB,KAAM,SAKf,IAAK,YACL,IAAK,WACH,MAAO,MAAK,QAAQ,aAGtB,IAAK,iBACL,IAAK,WACH,MAAO,MAAK,QAAQ,kBAGtB,IAAK,YACL,IAAK,WACH,MAAO,MAAK,QAAQ,aAGtB,IAAK,iBACL,IAAK,WACH,MAAO,MAAK,QAAQ,mBAIjB,IAGT,SAAQ,WAAa,OAErB,OAAO,QAAU,QAAQ;;;AC1bzB,YAMA,SAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCAJhH,OAAO,eAAe,QAAS,cAC7B,OAAO,GAKT,IAAI,WAKJ,QAAS,GAAU,GACjB,gBAAgB,KAAM,GAKtB,KAAK,OAAS,EAAO,QAKrB,KAAK,OAAS,KAKd,KAAK,MAAQ,KAKb,KAAK,YAKL,KAAK,QAGP,SAAQ,WAAa,UAErB,OAAO,QAAU,QAAQ;;;AC5CzB,YAQA,SAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCAEhH,QAAS,WAAU,EAAU,GAAc,GAA0B,kBAAf,IAA4C,OAAf,EAAuB,KAAM,IAAI,WAAU,iEAAoE,GAAe,GAAS,UAAY,OAAO,OAAO,GAAc,EAAW,WAAa,aAAe,MAAO,EAAU,YAAY,EAAO,UAAU,EAAM,cAAc,KAAe,IAAY,OAAO,eAAiB,OAAO,eAAe,EAAU,GAAc,EAAS,UAAY,GARje,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,MAAO,SAAa,EAAI,EAAK,GAAqC,IAA9B,GAAI,IAAS,EAAwB,GAAQ,CAAE,GAAI,GAAS,EAAI,EAAW,EAAK,EAAW,CAAK,IAAS,EAAsB,OAAX,IAAiB,EAAS,SAAS,UAAW,IAAI,GAAO,OAAO,yBAAyB,EAAQ,EAAW,IAAa,SAAT,EAAJ,CAA4O,GAAI,SAAW,GAAQ,MAAO,GAAK,KAAgB,IAAI,GAAS,EAAK,GAAK,IAAe,SAAX,EAAwB,MAAoB,OAAO,GAAO,KAAK,GAA/V,GAAI,GAAS,OAAO,eAAe,EAAS,IAAe,OAAX,EAAmB,MAA2B,GAAK,EAAQ,EAAM,EAAU,EAAM,EAAU,GAAS,EAAM,EAAO,EAAS,SAMxc,sBAAwB,SAAW,GAGrC,QAAS,GAAsB,GAC7B,gBAAgB,KAAM,GAEtB,KAAK,OAAO,eAAe,EAAsB,WAAY,cAAe,MAAM,KAAK,MACvF,KAAK,KAAO,wBACZ,KAAK,QAAU,EAGjB,MAVA,WAAU,EAAuB,GAU1B,GACN,MAEH,SAAQ,WAAa,sBAErB,OAAO,QAAU,QAAQ;;;AC5BzB,YAQA,SAAS,wBAAuB,GAAO,MAAO,IAAO,EAAI,WAAa,GAAQ,UAAW,GAEzF,QAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCARhH,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,cAAe,WAAe,QAAS,GAAiB,EAAQ,GAAS,IAAK,GAAI,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CAAE,GAAI,GAAa,EAAM,EAAI,GAAW,WAAa,EAAW,aAAc,EAAO,EAAW,cAAe,EAAU,SAAW,KAAY,EAAW,UAAW,GAAM,OAAO,eAAe,EAAQ,EAAW,IAAK,IAAiB,MAAO,UAAU,EAAa,EAAY,GAAiJ,MAA9H,IAAY,EAAiB,EAAY,UAAW,GAAiB,GAAa,EAAiB,EAAa,GAAqB,MAM7hB,cAAgB,QAAQ,kBAExB,eAAiB,uBAAuB,eAExC,QAAU,QAAQ,YAElB,SAAW,uBAAuB,SAElC,kBAAoB,QAAQ,sBAE5B,mBAAqB,uBAAuB,mBAE5C,uBAAyB,QAAQ,2BAEjC,wBAA0B,uBAAuB,wBAEjD,QAAU,QAAQ,YAElB,SAAW,uBAAuB,SAElC,UAAY,QAAQ,cAEpB,WAAa,uBAAuB,WAEpC,MAAQ,QAAQ,UAEhB,OAAS,WACX,QAAS,KACP,gBAAgB,KAAM,GAEtB,KAAK,UAAY,GAAI,YAAW,WAChC,KAAK,QAAU,GAAI,UAAS,WAC5B,KAAK,QAAQ,SAAW,KAAK,UAC7B,KAAK,UAAU,UAAU,KAAK,GAAI,gBAAe,WAAW,OAC5D,KAAK,UAAU,UAAU,KAAK,GAAI,oBAAmB,WAAW,OAChE,KAAK,UAAU,eAAe,KAAK,GAAI,oBAAmB,WAAW,OACrE,KAAK,gBAAkB,GAAI,yBAAwB,WAAW,OA4fhE,MArfA,cAAa,IACX,IAAK,UAOL,MAAO,SAAiB,GACtB,MAAO,MAAK,QAAQ,EAAM,SAAU,GAClC,MAAO,SAUX,IAAK,eACL,MAAO,SAAsB,GAC3B,MAAO,MAAK,aAAa,EAAM,SAAU,GACvC,MAAO,SAkBX,IAAK,SACL,MAAO,SAAgB,EAAM,EAAQ,GACnC,MAAO,MAAK,YAAY,EAAM,EAAQ,QAyBxC,IAAK,cACL,MAAO,SAAqB,EAAM,EAAQ,GACxC,MAAO,MAAK,iBAAiB,EAAM,EAAQ,QAU7C,IAAK,cACL,MAAO,SAAqB,EAAM,EAAQ,GACxC,MAAO,MAAK,iBAAiB,EAAM,EAAQ,GAAQ,KAAK,SAAU,GAChE,MAAO,UAYX,IAAK,mBACL,MAAO,SAA0B,EAAM,EAAQ,GAC7C,MAAO,MAAK,sBAAsB,EAAM,EAAQ,GAAQ,KAAK,SAAU,GACrE,MAAO,UAWX,IAAK,cACL,MAAO,SAAqB,EAAM,EAAQ,GACxC,MAAO,MAAK,QAAQ,kBAAkB,KAAK,gBAAgB,EAAM,EAAQ,OAU3E,IAAK,mBACL,MAAO,SAA0B,EAAM,EAAQ,GAC7C,MAAO,MAAK,QAAQ,uBAAuB,KAAK,gBAAgB,EAAM,EAAQ,OAGhF,IAAK,mBACL,MAAO,SAA0B,EAAM,EAAQ,GAC7C,MAAO,MAAK,QAAQ,kBAAkB,KAAK,qBAAqB,EAAM,EAAQ,OAGhF,IAAK,wBACL,MAAO,SAA+B,EAAM,EAAQ,GAClD,MAAO,MAAK,QAAQ,uBAAuB,KAAK,qBAAqB,EAAM,EAAQ,OAQrF,IAAK,aACL,MAAO,SAAoB,GACzB,MAAO,MAAK,aAAa,EAAM,SAAU,GACvC,MAAO,SASX,IAAK,kBACL,MAAO,SAAyB,GAC9B,MAAO,MAAK,kBAAkB,EAAM,SAAU,GAC5C,MAAO,SAUX,IAAK,WACL,MAAO,SAAkB,EAAM,GAC7B,KAAK,gBAAgB,EAAM,WACzB,MAAO,QAIX,IAAK,eACL,MAAO,SAAsB,EAAM,GACjC,KAAK,gCAAgC,EAAM,WACzC,MAAO,QASX,IAAK,aACL,MAAO,SAAoB,SAClB,MAAK,UAAU,QAAQ,SACvB,MAAK,UAAU,aAAa,MASrC,IAAK,kBACL,MAAO,SAAyB,EAAM,IACpC,EAAI,MAAM,gBAAgB,GAC1B,KAAK,UAAU,QAAQ,GAAQ,KAUjC,IAAK,6BACL,MAAO,SAAoC,EAAM,IAC/C,EAAI,MAAM,gBAAgB,GAC1B,KAAK,UAAU,QAAQ,GAAQ,KAAK,kBAAkB,MASxD,IAAK,uBACL,MAAO,SAA8B,EAAM,IACzC,EAAI,MAAM,gBAAgB,GAC1B,KAAK,UAAU,aAAa,GAAQ,KAAK,cAAc,EAAM,MAS/D,IAAK,kCACL,MAAO,SAAyC,EAAM,IACpD,EAAI,MAAM,gBAAgB,GAC1B,EAAU,KAAK,cAAc,EAAM,EACnC,IAAI,EACJ,MAAK,UAAU,aAAa,GAAQ,WAIlC,MAHiB,UAAb,IACF,EAAW,KAEN,MAUX,IAAK,gBACL,MAAO,SAAuB,EAAW,GACvC,KAAK,UAAU,UAAU,MACvB,SAAU,SAAkB,GAC1B,MAAI,KAAS,EACJ,EADT,aAaN,IAAK,WACL,MAAO,SAAkB,EAAS,GAChC,GAAI,IAAQ,EAAI,MAAM,kBAAkB,EACxC,MAAK,UAAU,UAAU,MACvB,QAAS,SAAiB,EAAM,GAC9B,MAAI,GAAM,GACD,EAAQ,EAAM,GADvB,aAaN,IAAK,gBACL,MAAO,SAAuB,EAAS,GACrC,GAAI,IAAQ,EAAI,MAAM,kBAAkB,EACxC,MAAK,UAAU,eAAe,MAC5B,aAAc,SAAsB,EAAM,GACxC,MAAO,SAAQ,UAAU,KAAK,WAC5B,MAAI,GAAM,GACD,EAAQ,EAAM,GADvB,eAeR,IAAK,oBACL,MAAO,SAA2B,EAAW,GAC3C,KAAK,UAAU,UAAU,MACvB,QAAS,SAAiB,GACxB,MAAI,GAAK,WAAW,GACX,EAAO,WAAW,EAAK,OAAO,EAAU,SADjD,UAKJ,KAAK,UAAU,eAAe,MAC5B,aAAc,SAAsB,GAClC,MAAO,SAAQ,UAAU,KAAK,WAC5B,MAAI,GAAK,WAAW,GACX,EAAO,gBAAgB,EAAK,OAAO,EAAU,SADtD,eAaR,IAAK,gBACL,MAAO,SAAuB,GAC5B,MAAO,MAAK,UAAU,QAAQ,MAQhC,IAAK,qBACL,MAAO,SAA4B,GACjC,GAAI,GAAQ,IAEZ,IAAI,KAAK,UAAU,aAAa,GAC9B,MAAO,MAAK,UAAU,aAAa,EAC9B,IAAI,KAAK,UAAU,QAAQ,GAAO,CACvC,GAAI,GAAO,WACT,GAAI,GAAS,EAAM,UAAU,QAAQ,EACrC,QACE,EAAG,WACD,MAAO,SAAQ,QAAQ,OAK7B,IAAoB,gBAAT,GAAmB,MAAO,GAAK,MAa9C,IAAK,kBACL,MAAO,SAAyB,EAAM,EAAQ,GAC5C,GAAI,GAAS,IAET,IAAwB,gBAAT,KACjB,EAAS,EACT,EAAS,EACT,EAAO,KAET,IAAI,IAAS,EAAI,MAAM,kBAAkB,EAuBzC,OAtBA,GAAO,KAAO,GAAQ,EAAO,KACzB,IACF,EAAO,YAAc,EAAO,YAAY,IAAI,SAAU,GACpD,GAAI,GAAQ,EAAO,EAUnB,OATc,UAAV,IACF,EAAQ,EAAO,eAAe,OAAO,SAAU,EAAO,GACpD,MAAc,UAAV,EACK,EAAQ,QAAQ,EAAG,GAEnB,GAER,SAES,SAAV,EACK,WACL,MAAO,IAGF,KAIN,KAGT,IAAK,uBACL,MAAO,SAA8B,EAAM,EAAQ,GACjD,MAAO,IAAI,UAAS,YAClB,OAAQ,SAAgB,GACtB,MAAO,IAET,aAAc,KAAK,gBAAgB,EAAM,EAAQ,SAIrD,IAAK,oBACL,MAAO,SAA2B,GAChC,GAAI,GACA,GAAS,EAAI,MAAM,kBAAkB,EACzC,OAAO,GAAO,YAAY,OAAO,WAC/B,IAAK,GAAI,GAAO,UAAU,OAAQ,EAAO,MAAM,GAAO,EAAO,EAAU,EAAP,EAAa,IAC3E,EAAK,GAAQ,UAAU,EAMzB,OAHiB,UAAb,IACF,EAAW,EAAO,OAAO,MAAM,OAAW,IAErC,OAIX,IAAK,gBACL,MAAO,SAAuB,EAAM,GAClC,GAAI,GAAS,KAET,GAAS,EAAI,MAAM,kBAAkB,EACzC,OAAO,YACL,MAAO,GAAO,iBAAiB,EAAM,EAAO,YAAY,QAAQ,WAC9D,IAAK,GAAI,GAAQ,UAAU,OAAQ,EAAO,MAAM,GAAQ,EAAQ,EAAW,EAAR,EAAe,IAChF,EAAK,GAAS,UAAU,EAG1B,OAAO,SAAQ,UAAU,KAAK,WAC5B,MAAO,GAAO,OAAO,MAAM,OAAW,KACrC,KAAK,SAAU,GAChB,MAAO,YACL,MAAO,cAOjB,IAAK,YACL,IAAK,WACH,MAAO,MAAK,UAAU,WAMxB,IAAK,SAAa,GAChB,KAAK,UAAU,UAAY,KAO7B,IAAK,iBACL,IAAK,WACH,MAAO,MAAK,UAAU,gBAMxB,IAAK,SAAa,GAChB,KAAK,UAAU,eAAiB,KAOlC,IAAK,YACL,IAAK,WACH,MAAO,MAAK,UAAU,WAMxB,IAAK,SAAa,GAChB,KAAK,UAAU,UAAY,MAIxB,IAGT,SAAQ,WAAa,OAErB,OAAO,QAAU,QAAQ;;;ACjjBzB,YAQA,SAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCANhH,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,cAAe,WAAe,QAAS,GAAiB,EAAQ,GAAS,IAAK,GAAI,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CAAE,GAAI,GAAa,EAAM,EAAI,GAAW,WAAa,EAAW,aAAc,EAAO,EAAW,cAAe,EAAU,SAAW,KAAY,EAAW,UAAW,GAAM,OAAO,eAAe,EAAQ,EAAW,IAAK,IAAiB,MAAO,UAAU,EAAa,EAAY,GAAiJ,MAA9H,IAAY,EAAiB,EAAY,UAAW,GAAiB,GAAa,EAAiB,EAAa,GAAqB,MAI7hB,aAAe,WACjB,QAAS,GAAa,GACpB,gBAAgB,KAAM,GAEtB,KAAK,OAAS,EACd,KAAK,QAAU,UAmDjB,MA3CA,cAAa,IACX,IAAK,UACL,MAAO,SAAiB,EAAM,GAC5B,GAAI,GAAQ,IAEZ,IAAI,KAAK,QAAQ,KAAK,GAAO,CAC3B,EAAO,EAAK,OAAO,EAAG,EAAK,OAAS,EACpC,IAAI,EACJ,OAAO,YA6BL,MA5BK,KACH,WACE,EAAU,QAAQ,SAClB,IAAI,GAAW,MAEf,GAAQ,KAAO,WACb,IAAK,GAAI,GAAO,UAAU,OAAQ,EAAO,MAAM,GAAO,EAAO,EAAU,EAAP,EAAa,IAC3E,EAAK,GAAQ,UAAU,EAiBzB,OAdK,KAGH,EAAW,QAAQ,UAAU,KAAK,WAChC,GAAI,IAAU,EAAM,SAAU,GAC5B,MAAO,IAET,OAAI,IAAa,EAAU,YAClB,EAAM,OAAO,iBAAiB,EAAU,KAAM,GAE9C,EAAM,OAAO,YAAY,MAI/B,EAAS,KAAK,MAAM,EAAU,OAIpC,QAMR,IAGT,SAAQ,WAAa,aAErB,OAAO,QAAU,QAAQ;;;ACvEzB,YAQA,SAAS,wBAAuB,GAAO,MAAO,IAAO,EAAI,WAAa,GAAQ,UAAW,GAEzF,QAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCARhH,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,cAAe,WAAe,QAAS,GAAiB,EAAQ,GAAS,IAAK,GAAI,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CAAE,GAAI,GAAa,EAAM,EAAI,GAAW,WAAa,EAAW,aAAc,EAAO,EAAW,cAAe,EAAU,SAAW,KAAY,EAAW,UAAW,GAAM,OAAO,eAAe,EAAQ,EAAW,IAAK,IAAiB,MAAO,UAAU,EAAa,EAAY,GAAiJ,MAA9H,IAAY,EAAiB,EAAY,UAAW,GAAiB,GAAa,EAAiB,EAAa,GAAqB,MAM7hB,QAAU,QAAQ,YAElB,SAAW,uBAAuB,SAElC,WAAa,QAAQ,eAErB,YAAc,uBAAuB,YAErC,MAAQ,QAAQ,UAEhB,uBAAyB,QAAQ,2BAEjC,wBAA0B,uBAAuB,wBAEjD,OAAS,WACX,QAAS,KACP,gBAAgB,KAAM,GAKtB,KAAK,SAAW,KAgLlB,MAxKA,cAAa,IACX,IAAK,oBACL,MAAO,SAA2B,GAyBhC,IAxBA,GAAI,GAAQ,KAER,EAAY,KAAK,qBAAqB,GACtC,GAAS,GAET,EAAQ,WACV,GAAI,GAAY,EAAM,OACtB,GAAU,OAAO,YAAY,QAAQ,SAAU,EAAY,GACzD,GAAI,EAEF,GADwB,gBAAf,GACA,EAAM,SAAS,cAAc,GACpC,KAAM,EAAU,OAAO,KACvB,cAAe,EAAU,SAElB,YAAsB,UAAS,WAC/B,GAEA,EAAI,MAAM,kBAAkB,EAEvC,IAAI,GAAQ,EAAM,oBAAoB,EAAW,EAAQ,EACzD,GAAM,KAAK,MAIR,EAAM,OAAS,GACpB,GAEF,OAAO,MAAK,sBAAsB,MAQpC,IAAK,yBACL,MAAO,SAAgC,GACrC,GAAI,GAAS,IAEb,OAAO,SAAQ,UAAU,KAAK,WAC5B,GAAI,GAAY,EAAO,qBAAqB,GACxC,EAAU,QAAS,GAAQ,GAC7B,MAAO,GAAO,SAAS,mBAAmB,EAAU,OAAO,YAAY,OAAO,SAAU,GACtF,MAAoB,gBAAN,MAEd,KAAM,EAAU,OAAO,KACvB,cAAe,EAAU,SACxB,KAAK,SAAU,GAChB,MAAO,SAAQ,IAAI,EAAU,OAAO,YAAY,IAAI,SAAU,EAAY,GACxE,GAAI,EAQJ,OANE,GADwB,gBAAf,GACA,EAAQ,GACR,YAAsB,UAAS,WAC/B,GAEA,EAAI,MAAM,kBAAkB,GAEhC,EAAO,oBAAoB,EAAW,EAAQ,KACpD,IAAI,MAGX,OAAO,GAAQ,GAAW,KAAK,WAC7B,MAAO,GAAO,sBAAsB,UAU1C,IAAK,wBACL,MAAO,SAA+B,GAGpC,IAFA,GAAI,MACA,GAAS,GACN,EAAM,OAAS,GAAG,CACvB,GAAI,GAAM,EAAM,OAChB,GAAW,KAAK,GAChB,EAAQ,EAAM,OAAO,EAAI,UAI3B,MAFA,GAAW,UAAU,MAEd,WACL,IAAK,GAAI,GAAO,UAAU,OAAQ,EAAO,MAAM,GAAO,EAAO,EAAU,EAAP,EAAa,IAC3E,EAAK,GAAQ,UAAU,EAKzB,KAFA,GAAI,GAAI,EACJ,EAAM,EAAW,OACV,EAAJ,EAAS,IAAK,CACnB,GAAI,GAAM,EAAW,EACrB,GAAI,OAAO,KAAK,EAAI,OAAS,EAAI,OAAO,OAAO,MAAM,OAAW,EAAI,MACpE,EAAI,QAIN,MAFA,GAAO,EAAU,KAAK,OAAO,GAC7B,EAAU,QACH,EAAU,OAAO,OAAO,MAAM,OAAW,OAWpD,IAAK,sBACL,MAAO,SAA6B,EAAQ,EAAQ,GAClD,GAAI,GAAQ,KAAK,qBAAqB,GACpC,OAAQ,EACR,MAAO,GAIT,OAFA,GAAO,SAAS,GAAY,EAC5B,KAAK,4BAA4B,GAC1B,KAOT,IAAK,8BACL,MAAO,SAAqC,GAG1C,IAFA,GAAI,GAAO,EAAU,OACjB,EAAO,EACJ,GAAM,CACX,GAAyB,OAArB,EAAK,OAAO,MAAiB,EAAK,OAAO,OAAS,EAAU,OAAO,KACrE,KAAM,IAAI,yBAAwB,WAAW,oCAAuC,EAAU,OAAO,KAAO,cAAkB,EAAK,OAAO,KAAO,KAEnJ,GAAO,EACP,EAAO,EAAK,WAUhB,IAAK,uBACL,MAAO,SAA8B,EAAQ,GAC3C,GAAI,GAAS,KAET,EAAY,GAAI,aAAY,WAAW,EAe3C,OAdI,KACF,EAAU,OAAS,EAAS,OAC5B,EAAU,MAAQ,EAAS,OAE7B,EAAU,OAAO,YAAc,EAAU,OAAO,YAAY,IAAI,SAAU,GACxE,MAA0B,gBAAf,GACF,EAAO,SAAS,YAAY,GACjC,KAAM,EAAU,OAAO,KACvB,cAAe,EAAU,SAGpB,IAGJ,MAIJ,IAGT,SAAQ,WAAa,OACrB,OAAO,QAAU,QAAQ;;;ACrNzB,YAQA,SAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCANhH,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,cAAe,WAAe,QAAS,GAAiB,EAAQ,GAAS,IAAK,GAAI,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CAAE,GAAI,GAAa,EAAM,EAAI,GAAW,WAAa,EAAW,aAAc,EAAO,EAAW,cAAe,EAAU,SAAW,KAAY,EAAW,UAAW,GAAM,OAAO,eAAe,EAAQ,EAAW,IAAK,IAAiB,MAAO,UAAU,EAAa,EAAY,GAAiJ,MAA9H,IAAY,EAAiB,EAAY,UAAW,GAAiB,GAAa,EAAiB,EAAa,GAAqB,MAI7hB,sBAAwB,WAC1B,QAAS,GAAsB,GAC7B,gBAAgB,KAAM,GAEtB,KAAK,OAAS,EACd,KAAK,QAAU,MAkBjB,MAVA,cAAa,IACX,IAAK,UACL,MAAO,SAAiB,EAAM,GAC5B,MAAI,MAAK,QAAQ,KAAK,IACpB,EAAO,EAAK,OAAO,EAAG,EAAK,OAAS,GAC7B,EAAO,IAFhB,WAOG,IAGT,SAAQ,WAAa,sBAErB,OAAO,QAAU,QAAQ;;;ACtCzB,YAQA,SAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCANhH,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,cAAe,WAAe,QAAS,GAAiB,EAAQ,GAAS,IAAK,GAAI,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CAAE,GAAI,GAAa,EAAM,EAAI,GAAW,WAAa,EAAW,aAAc,EAAO,EAAW,cAAe,EAAU,SAAW,KAAY,EAAW,UAAW,GAAM,OAAO,eAAe,EAAQ,EAAW,IAAK,IAAiB,MAAO,UAAU,EAAa,EAAY,GAAiJ,MAA9H,IAAY,EAAiB,EAAY,UAAW,GAAiB,GAAa,EAAiB,EAAa,GAAqB,MAI7hB,iBAAmB,WACrB,QAAS,GAAiB,GACxB,gBAAgB,KAAM,GAEtB,KAAK,OAAS,EACd,KAAK,QAAU,MAuCjB,MAhCA,cAAa,IACX,IAAK,UACL,MAAO,SAAiB,GACtB,MAAI,MAAK,QAAQ,KAAK,IACpB,EAAO,EAAK,OAAO,EAAG,EAAK,OAAS,GAChC,KAAK,OAAO,cAAc,GACrB,KAAK,OAAO,WAAW,GAEvB,cALX,UAYF,IAAK,eACL,MAAO,SAAsB,GAC3B,MAAI,MAAK,QAAQ,KAAK,IACpB,EAAO,EAAK,OAAO,EAAG,EAAK,OAAS,GAChC,KAAK,OAAO,mBAAmB,GAC1B,KAAK,OAAO,gBAAgB,GAE5B,QAAQ,QAAQ,eAKlB,QAAQ,cAKd,IAGT,SAAQ,WAAa,iBAErB,OAAO,QAAU,QAAQ;;;AC3DzB,YAQA,SAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCANhH,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,cAAe,WAAe,QAAS,GAAiB,EAAQ,GAAS,IAAK,GAAI,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CAAE,GAAI,GAAa,EAAM,EAAI,GAAW,WAAa,EAAW,aAAc,EAAO,EAAW,cAAe,EAAU,SAAW,KAAY,EAAW,UAAW,GAAM,OAAO,eAAe,EAAQ,EAAW,IAAK,IAAiB,MAAO,UAAU,EAAa,EAAY,GAAiJ,MAA9H,IAAY,EAAiB,EAAY,UAAW,GAAiB,GAAa,EAAiB,EAAa,GAAqB,MAI7hB,OAAS,WAKX,QAAS,GAAO,GACd,gBAAgB,KAAM,GAEtB,EAAW,MAKX,KAAK,KAAO,EAAS,MAAQ,KAK7B,KAAK,OAAS,EAAS,OAMvB,KAAK,aAAe,EAAS,iBAAmB,QAclD,MAPA,cAAa,IACX,IAAK,QACL,MAAO,WACL,MAAO,IAAI,GAAO,UAIf,IAGT,SAAQ,WAAa,OAErB,OAAO,QAAU,QAAQ;;;ACrDzB,YAQA,SAAS,wBAAuB,GAAO,MAAO,IAAO,EAAI,WAAa,GAAQ,UAAW,GAEzF,QAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCARhH,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,cAAe,WAAe,QAAS,GAAiB,EAAQ,GAAS,IAAK,GAAI,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CAAE,GAAI,GAAa,EAAM,EAAI,GAAW,WAAa,EAAW,aAAc,EAAO,EAAW,cAAe,EAAU,SAAW,KAAY,EAAW,UAAW,GAAM,OAAO,eAAe,EAAQ,EAAW,IAAK,IAAiB,MAAO,UAAU,EAAa,EAAY,GAAiJ,MAA9H,IAAY,EAAiB,EAAY,UAAW,GAAiB,GAAa,EAAiB,EAAa,GAAqB,MAM7hB,QAAU,QAAQ,YAElB,SAAW,uBAAuB,SAElC,MAAQ,QAAQ,UAEhB,sBAAwB,QAAQ,0BAEhC,uBAAyB,uBAAuB,uBAEhD,uBAAyB,QAAQ,2BAEjC,wBAA0B,uBAAuB,wBAEjD,SAAW,WACb,QAAS,KACP,gBAAgB,KAAM,GAKtB,KAAK,WAKL,KAAK,gBAKL,KAAK,aAKL,KAAK,kBAKL,KAAK,aAqJP,MA5IA,cAAa,IACX,IAAK,gBACL,MAAO,SAAuB,EAAM,GAClC,MAAO,MAAK,kBAAkB,EAAM,KAAK,cAAc,EAAM,OAS/D,IAAK,qBACL,MAAO,SAA4B,EAAO,GACxC,GAAI,GAAQ,IAGZ,OADA,IAAQ,EAAI,MAAM,UAAU,GACrB,QAAQ,IAAI,EAAM,IAAI,SAAU,GACrC,MAAO,GAAM,mBAAmB,EAAM,MACpC,KAAK,SAAU,GAEjB,IAAK,GADD,MACK,EAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CACrC,GAAI,GAAQ,EAAM,EAClB,GAAQ,GAAS,EAAM,kBAAkB,EAAO,EAAQ,IAE1D,MAAO,QAUX,IAAK,cACL,MAAO,SAAqB,EAAM,GAGhC,IAFA,GAAI,GAAU,EACV,OACS,CACX,GAAI,EAAQ,QAAQ,GAAQ,GAC1B,KAAM,IAAI,yBAAwB,WAAW,8CAAiD,EAAO,UAAc,EAAU,IAE7H,GAAQ,KAAK,EAEf,IAAI,GAAS,KAAK,UAAU,OAAO,SAAU,EAAK,GAChD,MAAO,IAAO,EAAQ,SAAS,EAAM,IACpC,KACH,KAAK,EACH,MAAO,EAEP,GAAO,MAab,IAAK,oBACL,MAAO,SAA2B,EAAM,GACtC,GAAI,IAAqB,EAAI,MAAM,kBAAkB,GAEjD,EAAc,EAAmB,YACjC,EAAS,EAAmB,MAEhC,OAAO,IAAI,UAAS,YAClB,KAAM,EACN,OAAQ,EACR,YAAa,OAUjB,IAAK,gBACL,MAAO,SAAuB,EAAM,GAClC,GAAI,KAAK,QAAQ,GACf,MAAO,MAAK,QAAQ,EAEtB,IAAI,GAAS,KAAK,UAAU,OAAO,SAAU,EAAQ,GACnD,MAAO,IAAU,EAAQ,QAAQ,EAAM,IACtC,KACH,IAAe,SAAX,EAAsB,CACxB,GAAI,GAAU,6BAAgC,EAAO,GAIrD,MAHI,IAAa,EAAU,OACzB,GAAW,SAAY,EAAU,KAAO,KAEpC,GAAI,wBAAuB,WAAW,GAI9C,OAFE,EAAI,MAAM,gBAAgB,GAErB,KAST,IAAK,qBACL,MAAO,SAA4B,EAAM,GACvC,GAAI,GAAS,IAEb,IAAI,KAAK,aAAa,GACpB,MAAO,MAAK,aAAa,IAE3B,IAAI,KAAK,QAAQ,GACf,MAAO,MAAK,QAAQ,EAEtB,IAAI,GAAY,KAAK,eAAe,QAChC,EAAO,QAAS,KAClB,GAAI,GAAW,EAAU,OACzB,OAAI,GACK,EAAS,aAAa,EAAM,GAAW,KAAK,SAAU,GAC3D,MAAO,IAAU,MAFrB,OAMF,OAAO,SAAQ,UAAU,KAAK,GAAM,KAAK,SAAU,GACjD,MAAe,UAAX,EACK,EAAO,cAAc,EAAM,KAElC,EAAI,MAAM,gBAAgB,GAErB,SAKN,IAGT,SAAQ,WAAa,SAErB,OAAO,QAAU,QAAQ;;;AC/MzB,YAQA,SAAS,iBAAgB,EAAU,GAAe,KAAM,YAAoB,IAAgB,KAAM,IAAI,WAAU,qCAEhH,QAAS,WAAU,EAAU,GAAc,GAA0B,kBAAf,IAA4C,OAAf,EAAuB,KAAM,IAAI,WAAU,iEAAoE,GAAe,GAAS,UAAY,OAAO,OAAO,GAAc,EAAW,WAAa,aAAe,MAAO,EAAU,YAAY,EAAO,UAAU,EAAM,cAAc,KAAe,IAAY,OAAO,eAAiB,OAAO,eAAe,EAAU,GAAc,EAAS,UAAY,GARje,OAAO,eAAe,QAAS,cAC7B,OAAO,GAGT,IAAI,MAAO,SAAa,EAAI,EAAK,GAAqC,IAA9B,GAAI,IAAS,EAAwB,GAAQ,CAAE,GAAI,GAAS,EAAI,EAAW,EAAK,EAAW,CAAK,IAAS,EAAsB,OAAX,IAAiB,EAAS,SAAS,UAAW,IAAI,GAAO,OAAO,yBAAyB,EAAQ,EAAW,IAAa,SAAT,EAAJ,CAA4O,GAAI,SAAW,GAAQ,MAAO,GAAK,KAAgB,IAAI,GAAS,EAAK,GAAK,IAAe,SAAX,EAAwB,MAAoB,OAAO,GAAO,KAAK,GAA/V,GAAI,GAAS,OAAO,eAAe,EAAS,IAAe,OAAX,EAAmB,MAA2B,GAAK,EAAQ,EAAM,EAAU,EAAM,EAAU,GAAS,EAAM,EAAO,EAAS,SAMxc,qBAAuB,SAAW,GAGpC,QAAS,GAAqB,GAC5B,gBAAgB,KAAM,GAEtB,KAAK,OAAO,eAAe,EAAqB,WAAY,cAAe,MAAM,KAAK,MACtF,KAAK,KAAO,uBACZ,KAAK,QAAU,EAGjB,MAVA,WAAU,EAAsB,GAUzB,GACN,MAEH,SAAQ,WAAa,qBAErB,OAAO,QAAU,QAAQ;;;AC5BzB,YAMA,SAAS,wBAAuB,GAAO,MAAO,IAAO,EAAI,WAAa,GAAQ,UAAW,GAJzF,OAAO,eAAe,QAAS,cAC7B,OAAO,GAKT,IAAI,SAAU,QAAQ,YAElB,SAAW,uBAAuB,SAElC,uBAAyB,QAAQ,2BAEjC,wBAA0B,uBAAuB,wBAEjD,QAAU,QAAQ,YAElB,SAAW,uBAAuB,SAElC,cAAgB,QAAQ,kBAExB,eAAiB,uBAAuB,eAExC,sBAAwB,QAAQ,0BAEhC,uBAAyB,uBAAuB,sBAEpD,SAAQ,YACN,OAAQ,SAAS,WACjB,sBAAuB,wBAAwB,WAC/C,OAAQ,SAAS,WACjB,aAAc,eAAe,WAC7B,qBAAsB,uBAAuB,YAE/C,OAAO,QAAU,QAAQ;;;ACnCzB,YAEA,QAAO,eAAe,QAAS,cAC7B,OAAO,IAGT,QAAQ,WAAa,SAAU,GAC7B,GAAI,EAOJ,OANsB,kBAAX,GACT,EAAO,EAAO,aAEd,EAAO,EAAO,QACd,EAAS,EAAK,OAET,EAAK,QAAQ,KAItB,OAAO,QAAU,QAAQ;;;ACbzB,YAEA,QAAO,eAAe,QAAS,cAC7B,OAAO,IAGT,QAAQ,WAAa,WACnB,IAAK,GAAI,GAAO,UAAU,OAAQ,EAAQ,MAAM,GAAO,EAAO,EAAU,EAAP,EAAa,IAC5E,EAAM,GAAQ,UAAU,EAG1B,OAAO,GAAM,IAAI,SAAU,EAAM,GAC/B,MAAiB,KAAV,EAAc,EAAK,QAAQ,MAAO,IAAM,EAAK,QAAQ,aAAc,MACzE,KAAK,MAIV,OAAO,QAAU,QAAQ;;;AClBzB,YAEA,QAAO,eAAe,QAAS,cAC7B,OAAO,IAGT,QAAQ,WAAa,SAAU,GAC7B,MAAO,GAAM,OAAO,SAAU,EAAK,GACjC,MAA0B,KAAtB,EAAI,QAAQ,GACP,EAAI,QAAQ,IAEd,QAKX,OAAO,QAAU,QAAQ;;;ACpBzB,YAMA,SAAS,wBAAuB,GAAO,MAAO,IAAO,EAAI,WAAa,GAAQ,UAAW,GAJzF,OAAO,eAAe,QAAS,cAC7B,OAAO,GAKT,IAAI,kBAAmB,QAAQ,qBAE3B,kBAAoB,uBAAuB,kBAE3C,cAAgB,QAAQ,kBAExB,eAAiB,uBAAuB,eAExC,UAAY,QAAQ,cAEpB,WAAa,uBAAuB,WAEpC,kBAAoB,QAAQ,sBAE5B,mBAAqB,uBAAuB,mBAE5C,kBAAoB,QAAQ,sBAE5B,mBAAqB,uBAAuB,mBAE5C,gBAAkB,QAAQ,oBAE1B,iBAAmB,uBAAuB,gBAE9C,SAAQ,YACN,gBAAiB,kBAAkB,WACnC,aAAc,eAAe,WAC7B,SAAU,WAAW,WACrB,iBAAkB,mBAAmB,WACrC,iBAAkB,mBAAmB,WACrC,eAAgB,iBAAiB,YAEnC,OAAO,QAAU,QAAQ;;;ACpCzB,YAEA,QAAO,eAAe,QAAS,cAC7B,OAAO,IAGT,QAAQ,WAAa,SAAU,GAC7B,MAAuB,kBAAZ,GACF,EAEc,gBAAZ,GACF,SAAU,GACf,MAAO,KAAU,GAGd,SAAU,GACf,MAAO,GAAQ,KAAK,KAKxB,OAAO,QAAU,QAAQ;;;ACzBzB,YAMA,SAAS,wBAAuB,GAAO,MAAO,IAAO,EAAI,WAAa,GAAQ,UAAW,GAJzF,OAAO,eAAe,QAAS,cAC7B,OAAO,GAKT,IAAI,SAAU,QAAQ,aAElB,SAAW,uBAAuB,SAElC,iBAAmB,QAAQ,qBAE3B,kBAAoB,uBAAuB,iBAO/C,SAAQ,WAAa,SAAU,GAE7B,MADA,IAAS,EAAI,kBAAkB,YAAY,GACpC,GAAI,UAAS,YAClB,OAAQ,EAAO,EAAO,OAAS,GAC/B,YAAa,EAAO,MAAM,EAAG,EAAO,OAAS,MAKjD,OAAO,QAAU,QAAQ;;;AC3BzB,YAEA,QAAO,eAAe,QAAS,cAC7B,OAAO,IAGT,QAAQ,WAAa,SAAU,GAC7B,GAAsB,kBAAX,GAAuB,CAChC,IAAK,MAAM,QAAQ,GACjB,KAAM,IAAI,OAAM,8CAElB,IAAyC,kBAA9B,GAAO,EAAO,OAAS,GAChC,KAAM,IAAI,OAAM,+DAMtB,OAAO,QAAU,QAAQ",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _Kernel = require('./Kernel');\n\nvar _Kernel2 = _interopRequireDefault(_Kernel);\n\nvar _utilArrayFromTarget = require('./util/arrayFromTarget');\n\nvar _utilArrayFromTarget2 = _interopRequireDefault(_utilArrayFromTarget);\n\nvar Bundle = (function () {\n  function Bundle(name) {\n    _classCallCheck(this, Bundle);\n\n    this.name = name;\n    this._kernel = new _Kernel2['default']();\n    this._modules = [];\n  }\n\n  _createClass(Bundle, [{\n    key: 'listModules',\n    value: function listModules() {\n      return this._modules.slice();\n    }\n  }, {\n    key: 'register',\n    value: function register(name, value) {\n      this._kernel.register(name, value);\n    }\n  }, {\n    key: 'registerLazy',\n    value: function registerLazy(name, value) {\n      this._kernel.registerLazy(name, value);\n    }\n  }, {\n    key: 'registerFactory',\n    value: function registerFactory(name, factory) {\n      this._kernel.registerFactory(name, factory);\n    }\n  }, {\n    key: 'registerFactoryAsSingleton',\n    value: function registerFactoryAsSingleton(name, factory) {\n      this._kernel.registerFactoryAsSingleton(name, factory);\n    }\n  }, {\n    key: 'registerAsyncFactoryAsSingleton',\n    value: function registerAsyncFactoryAsSingleton(name, factory) {\n      this._kernel.registerAsyncFactoryAsSingleton(name, factory);\n    }\n  }, {\n    key: 'resolve',\n    value: function resolve(name) {\n      return this._kernel.resolve(name);\n    }\n  }, {\n    key: 'resolveAsync',\n    value: function resolveAsync(name) {\n      return this._kernel.resolveAsync(name);\n    }\n  }, {\n    key: 'invoke',\n    value: function invoke(name, target, locals) {\n      return this._kernel.invoke(name, target, locals);\n    }\n  }, {\n    key: 'invokeAsync',\n    value: function invokeAsync(name, target, locals) {\n      return this._kernel.invokeAsync(name, target, locals);\n    }\n  }, {\n    key: 'registerModules',\n    value: function registerModules(modules) {\n      var _this = this;\n\n      var _ref = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var _ref$ignore = _ref.ignore;\n      var ignore = _ref$ignore === undefined ? [] : _ref$ignore;\n      var _ref$asyncModules = _ref.asyncModules;\n      var asyncModules = _ref$asyncModules === undefined ? false : _ref$asyncModules;\n      var _ref$namespace = _ref.namespace;\n      var namespace = _ref$namespace === undefined ? '' : _ref$namespace;\n      var _ref$transform = _ref.transform;\n      var transform = _ref$transform === undefined ? null : _ref$transform;\n      var _ref$transformAsync = _ref.transformAsync;\n      var transformAsync = _ref$transformAsync === undefined ? null : _ref$transformAsync;\n\n      var _loop = function (key) {\n        try {\n          var _ret2 = (function () {\n            // Skip ignored paths.\n            var skip = false;\n            if (ignore instanceof RegExp) {\n              skip = ignore.test(key);\n            } else {\n              _iteratorNormalCompletion = true;\n              _didIteratorError = false;\n              _iteratorError = undefined;\n\n              try {\n                for (_iterator = ignore[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var path = _step.value;\n\n                  if (/\\/$/.test(path)) {\n                    if (key.startsWith(path)) {\n                      skip = true;\n                      break;\n                    }\n                  } else {\n                    if (key === path) {\n                      skip = true;\n                      break;\n                    }\n                  }\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator['return']) {\n                    _iterator['return']();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n            if (skip) {\n              return {\n                v: 'continue'\n              };\n            }\n\n            var segments = key.split('/');\n            var fullName = namespace + key;\n            var shortName = segments[segments.length - 1];\n\n            var factory = modules[key];\n\n            var f = (0, _utilArrayFromTarget2['default'])(modules[key]);\n            var deps = f.slice(0, f.length - 1);\n            f = f[f.length - 1];\n\n            if (asyncModules) {\n              (function () {\n                var t = transformAsync || transform;\n                if (t) {\n                  factory = [].concat(_toConsumableArray(deps), [function () {\n                    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                      args[_key] = arguments[_key];\n                    }\n\n                    return Promise.resolve().then(function () {\n                      return f.apply(undefined, args);\n                    }).then(function (instance) {\n                      return t({ name: key, instance: instance });\n                    });\n                  }]);\n                }\n              })();\n            } else if (transform) {\n              factory = [].concat(_toConsumableArray(deps), [function () {\n                for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                  args[_key2] = arguments[_key2];\n                }\n\n                return transform({\n                  name: key,\n                  instance: f.apply(undefined, args)\n                });\n              }]);\n            }\n\n            if (asyncModules) {\n              _this._kernel.registerAsyncFactoryAsSingleton(fullName, factory);\n            } else {\n              _this._kernel.registerFactoryAsSingleton(fullName, factory);\n            }\n\n            // Mimic the node convention where requiring a directory requires the\n            // index file.\n            if (key.endsWith('/index')) {\n              _this._kernel.registerAlias(fullName.replace(/\\/index$/, ''), fullName);\n            }\n\n            // Modules that begin with '_' are treated as internal modules, meaning\n            // they cannot be resolved from the kernel directly.\n\n            // In other words, when we register a module that begins with '_' like\n            // '_Foo', register an alias 'Foo' -> '_Foo', but only enable the alias\n            // when the module is being resolved as a dependency of another module\n            // within the kernel. This means when we try to do a\n            // kernel.resolve( 'Foo' ), we get a ServiceNotFoundError, but if we have\n            // a service 'Bar' that depends on 'Foo', the resolution works.\n\n            if (/^_/.test(shortName)) {\n              (function () {\n                var segs = segments.slice();\n                segs.pop();\n                segs.push(shortName.substr(1));\n                var preferredName = namespace + segs.join('/');\n                _this._kernel.redirects.push({\n                  redirect: function redirect(name, namedNode) {\n                    if (namedNode && namedNode.isChildNode && name === preferredName) {\n                      return fullName;\n                    }\n                  }\n                });\n              })();\n            }\n\n            _this._modules.push(fullName);\n          })();\n\n          if (typeof _ret2 === 'object') return _ret2.v;\n        } catch (err) {\n          throw new Error('Module registration failed for \"' + key + '\" because [' + err.message + ']');\n        }\n      };\n\n      for (var key in modules) {\n        var _iteratorNormalCompletion;\n\n        var _didIteratorError;\n\n        var _iteratorError;\n\n        var _iterator, _step;\n\n        var _ret = _loop(key);\n\n        if (_ret === 'continue') continue;\n      }\n    }\n\n    /**\n     * @param {String} fromNamespace\n     * @param {Bundle} toBundle\n     * @param {String} [toNamespace=\"\"]\n     */\n  }, {\n    key: 'registerLink',\n    value: function registerLink(fromNamespace, toBundle) {\n      var toNamespace = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];\n\n      this._registerLink(fromNamespace, toBundle, toNamespace, false);\n    }\n\n    /**\n     * @param {String} fromNamespace\n     * @param {Bundle} toBundle\n     * @param {String} [toNamespace=\"\"]\n     */\n  }, {\n    key: 'registerInternalLink',\n    value: function registerInternalLink(fromNamespace, toBundle) {\n      var toNamespace = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];\n\n      this._registerLink(fromNamespace, toBundle, toNamespace, true);\n    }\n\n    /**\n     * @param {String} name\n     * @param {Bundle} toBundle\n     * @param {String} [toName]\n     */\n  }, {\n    key: 'delegate',\n    value: function delegate(name, toBundle, toName) {\n      this._delegate(name, toBundle, toName || name, false);\n    }\n\n    /**\n     * @param {String} name\n     * @param {Bundle} toBundle\n     * @param {String} [toName]\n     */\n  }, {\n    key: 'delegateInternal',\n    value: function delegateInternal(name, toBundle, toName) {\n      this._delegate(name, toBundle, toName || name, true);\n    }\n  }, {\n    key: 'registerResolver',\n    value: function registerResolver(resolver, isInternal) {\n      this.resolvers.push({\n        resolve: function resolve(name, namedNode) {\n          if (!isInternal || namedNode && namedNode.isChildNode) {\n            return resolver.resolve(name, namedNode);\n          }\n        }\n      });\n    }\n  }, {\n    key: 'registerAsyncResolver',\n    value: function registerAsyncResolver(resolver, isInternal) {\n      var _this2 = this;\n\n      this.asyncResolvers.push({\n        resolveAsync: function resolveAsync(name, namedNode) {\n          return regeneratorRuntime.async(function resolveAsync$(context$3$0) {\n            while (1) switch (context$3$0.prev = context$3$0.next) {\n              case 0:\n                if (!(!isInternal || namedNode && namedNode.isChildNode)) {\n                  context$3$0.next = 2;\n                  break;\n                }\n\n                return context$3$0.abrupt('return', resolver.resolveAsync(name, namedNode));\n\n              case 2:\n              case 'end':\n                return context$3$0.stop();\n            }\n          }, null, _this2);\n        }\n      });\n    }\n\n    /**\n     * @param {String} fromNamespace\n     * @param {Bundle} toBundle\n     * @param {String} toNamespace\n     * @param {Boolean} isInternal\n     */\n  }, {\n    key: '_registerLink',\n    value: function _registerLink(fromNamespace, toBundle, toNamespace, isInternal) {\n      var _this3 = this;\n\n      this.registerResolver({\n        resolve: function resolve(name) {\n          if (name.startsWith(fromNamespace)) {\n            return toBundle._kernel.factoryFor(toNamespace + name.substr(fromNamespace.length));\n          }\n        }\n      }, isInternal);\n      this.registerAsyncResolver({\n        resolveAsync: function resolveAsync(name) {\n          return regeneratorRuntime.async(function resolveAsync$(context$3$0) {\n            while (1) switch (context$3$0.prev = context$3$0.next) {\n              case 0:\n                if (!name.startsWith(fromNamespace)) {\n                  context$3$0.next = 2;\n                  break;\n                }\n\n                return context$3$0.abrupt('return', toBundle._kernel.factoryForAsync(toNamespace + name.substr(fromNamespace.length)));\n\n              case 2:\n              case 'end':\n                return context$3$0.stop();\n            }\n          }, null, _this3);\n        }\n      }, isInternal);\n    }\n\n    /**\n     * @param {String} name\n     * @param {Bundle} toBundle\n     * @param {String} toName\n     * @param {Boolean} isInternal\n     */\n  }, {\n    key: '_delegate',\n    value: function _delegate(name, toBundle, toName, isInternal) {\n      var _this4 = this;\n\n      var key = '_' + name;\n      this._kernel.registerFactory(name, [key, function (x) {\n        return x;\n      }]);\n      this.registerResolver({\n        resolve: function resolve(target) {\n          if (key === target) {\n            return toBundle._kernel.factoryFor(toName);\n          }\n        }\n      }, isInternal);\n      this.registerAsyncResolver({\n        resolveAsync: function resolveAsync(target) {\n          return regeneratorRuntime.async(function resolveAsync$(context$3$0) {\n            while (1) switch (context$3$0.prev = context$3$0.next) {\n              case 0:\n                if (!(key === target)) {\n                  context$3$0.next = 2;\n                  break;\n                }\n\n                return context$3$0.abrupt('return', toBundle._kernel.factoryForAsync(toName));\n\n              case 2:\n              case 'end':\n                return context$3$0.stop();\n            }\n          }, null, _this4);\n        }\n      });\n    }\n  }, {\n    key: 'resolvers',\n    get: function get() {\n      return this._kernel.resolvers;\n    }\n  }, {\n    key: 'asyncResolvers',\n    get: function get() {\n      return this._kernel.asyncResolvers;\n    }\n  }, {\n    key: 'redirects',\n    get: function get() {\n      return this._kernel.redirects;\n    }\n  }, {\n    key: 'localResolvers',\n    get: function get() {\n      return this._kernel.localResolvers;\n    }\n  }]);\n\n  return Bundle;\n})();\n\nexports['default'] = Bundle;\n;\nmodule.exports = exports['default'];",
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Component =\n\n/**\n * @param {Recipe} recipe\n */\nfunction Component(recipe) {\n  _classCallCheck(this, Component);\n\n  /**\n   * @type {Recipe}\n   */\n  this.recipe = recipe.clone();\n\n  /**\n   * @type {Component}\n   */\n  this.parent = null;\n\n  /**\n   * @type {Number}\n   */\n  this.order = null;\n\n  /**\n   * @type {Array.<Component>}\n   */\n  this.children = [];\n\n  /**\n   * @type {Array}\n   */\n  this.prep = [];\n};\n\nexports[\"default\"] = Component;\n;\nmodule.exports = exports[\"default\"];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InvalidOperationError = (function (_Error) {\n  _inherits(InvalidOperationError, _Error);\n\n  function InvalidOperationError(message) {\n    _classCallCheck(this, InvalidOperationError);\n\n    _get(Object.getPrototypeOf(InvalidOperationError.prototype), 'constructor', this).call(this);\n    this.name = 'InvalidOperationError';\n    this.message = message;\n  }\n\n  return InvalidOperationError;\n})(Error);\n\nexports['default'] = InvalidOperationError;\n;\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _LazyResolver = require('./LazyResolver');\n\nvar _LazyResolver2 = _interopRequireDefault(_LazyResolver);\n\nvar _Linker = require('./Linker');\n\nvar _Linker2 = _interopRequireDefault(_Linker);\n\nvar _OptionalResolver = require('./OptionalResolver');\n\nvar _OptionalResolver2 = _interopRequireDefault(_OptionalResolver);\n\nvar _OptionalLocalResolver = require('./OptionalLocalResolver');\n\nvar _OptionalLocalResolver2 = _interopRequireDefault(_OptionalLocalResolver);\n\nvar _Recipe = require('./Recipe');\n\nvar _Recipe2 = _interopRequireDefault(_Recipe);\n\nvar _Registry = require('./Registry');\n\nvar _Registry2 = _interopRequireDefault(_Registry);\n\nvar _util = require('./util');\n\nvar Kernel = (function () {\n  function Kernel() {\n    _classCallCheck(this, Kernel);\n\n    this._registry = new _Registry2['default']();\n    this._linker = new _Linker2['default']();\n    this._linker.delegate = this._registry;\n    this._registry.resolvers.push(new _LazyResolver2['default'](this));\n    this._registry.resolvers.push(new _OptionalResolver2['default'](this));\n    this._registry.asyncResolvers.push(new _OptionalResolver2['default'](this));\n    this.localResolvers = [new _OptionalLocalResolver2['default'](this)];\n  }\n\n  /**\n   * @returns {Array.<ResolveHandler>}\n   */\n\n  _createClass(Kernel, [{\n    key: 'resolve',\n\n    /**\n     * Resolves a named service.\n     * @param {String} name\n     * @returns {*}\n     */\n    value: function resolve(name) {\n      return this.invoke([name, function (dep) {\n        return dep;\n      }]);\n    }\n\n    /**\n     * Resolves a named service asynchronously.\n     * @param {String} name\n     * @returns {Promise}\n     */\n  }, {\n    key: 'resolveAsync',\n    value: function resolveAsync(name) {\n      return this.invokeAsync([name, function (dep) {\n        return dep;\n      }]);\n    }\n\n    /**\n     * Invokes a target, optionally specifying the name of the target.\n     *\n     * Targets can be named or unnamed. Targets can reference other targets by\n     * name, registered or unregistered, and they can also contain inline targets.\n     * When a target's dependency targets are resolved, its name is made available\n     * to the dependency resolvers.\n     *\n     * @param {String} [name] Optional name of the target.\n     * @param {Target} target\n     * @param {Object.<String, *>} [locals]\n     * @returns {*}\n     */\n  }, {\n    key: 'invoke',\n    value: function invoke(name, target, locals) {\n      return this.factoryFrom(name, target, locals)();\n    }\n\n    /**\n     * Invokes the target as a child node.\n     *\n     * What is a child node? Let's say we have a target 'A' which has a dependency\n     * 'B' which has its own dependency 'C'. The object graph would look like\n     * this: A > B > C. In this case, A is the top level node while and B and C\n     * are both child nodes. Defining this distinction between top level and child\n     * allows us to write different rules for resolving each. For example, we\n     * might want the ability to have private modules. With this distinction, we\n     * can easily write a rule that says, \"If module X is a top level node, hide\n     * all resolutions whose names begin with an underscore (_).\"\n     *\n     * Invoking a target as a child allows us to invoke B without having any\n     * knowledge of A. In other words, it allows us to resolve a target as if it\n     * were a child node rather than a top level node.\n     *\n     * @param {String} [name] Optional name of the target.\n     * @param {Target} target\n     * @param {Object.<String, *>} [locals]\n     * @returns {*}\n     */\n  }, {\n    key: 'invokeChild',\n    value: function invokeChild(name, target, locals) {\n      return this.factoryFromChild(name, target, locals)();\n    }\n\n    /**\n     * @param {String} [name] Optional name of the target.\n     * @param {Target} target\n     * @param {Object.<String, *>} [locals]\n     * @returns {Promise.<*>}\n     */\n  }, {\n    key: 'invokeAsync',\n    value: function invokeAsync(name, target, locals) {\n      return this.factoryFromAsync(name, target, locals).then(function (factory) {\n        return factory();\n      });\n    }\n\n    /**\n     * Invokes the target as a child node asynchronously.\n     * @param {String} [name] Optional name of the target.\n     * @param {Target} target\n     * @param {Object.<String, *>} [locals]\n     * @returns {Promise.<*>}\n     */\n  }, {\n    key: 'invokeChildAsync',\n    value: function invokeChildAsync(name, target, locals) {\n      return this.factoryFromChildAsync(name, target, locals).then(function (factory) {\n        return factory();\n      });\n    }\n\n    /**\n     * @param {String} [name] Optional name of the target.\n     * @param {Target} target\n     * @param {Object.<String, *>} [locals]\n     * @returns {Function}\n     */\n  }, {\n    key: 'factoryFrom',\n    value: function factoryFrom(name, target, locals) {\n      return this._linker.factoryFromRecipe(this._recipeFromArgs(name, target, locals));\n    }\n\n    /**\n     * @param {String} [name] Optional name of the target.\n     * @param {Target} target\n     * @param {Object.<String, *>} [locals]\n     * @returns {Promise.<Function>}\n     */\n  }, {\n    key: 'factoryFromAsync',\n    value: function factoryFromAsync(name, target, locals) {\n      return this._linker.factoryFromRecipeAsync(this._recipeFromArgs(name, target, locals));\n    }\n  }, {\n    key: 'factoryFromChild',\n    value: function factoryFromChild(name, target, locals) {\n      return this._linker.factoryFromRecipe(this._childRecipeFromArgs(name, target, locals));\n    }\n  }, {\n    key: 'factoryFromChildAsync',\n    value: function factoryFromChildAsync(name, target, locals) {\n      return this._linker.factoryFromRecipeAsync(this._childRecipeFromArgs(name, target, locals));\n    }\n\n    /**\n     * @param {String} name\n     * @returns {Function}\n     */\n  }, {\n    key: 'factoryFor',\n    value: function factoryFor(name) {\n      return this.factoryFrom([name, function (dep) {\n        return dep;\n      }]);\n    }\n\n    /**\n     * @param {String} name\n     * @returns {Promise.<Function>}\n     */\n  }, {\n    key: 'factoryForAsync',\n    value: function factoryForAsync(name) {\n      return this.factoryFromAsync([name, function (dep) {\n        return dep;\n      }]);\n    }\n\n    /**\n     * Registers a value with the kernel.\n     * @param {String} name\n     * @param {*} value\n     */\n  }, {\n    key: 'register',\n    value: function register(name, value) {\n      this.registerFactory(name, function () {\n        return value;\n      });\n    }\n  }, {\n    key: 'registerLazy',\n    value: function registerLazy(name, value) {\n      this.registerAsyncFactoryAsSingleton(name, function () {\n        return value;\n      });\n    }\n\n    /**\n     * Unregisters a name from the kernel.\n     * @param {String} name\n     */\n  }, {\n    key: 'unregister',\n    value: function unregister(name) {\n      delete this._registry.targets[name];\n      delete this._registry.asyncTargets[name];\n    }\n\n    /**\n     * Registers a factory with the kernel.\n     * @param {String} name\n     * @param {Target} factory\n     */\n  }, {\n    key: 'registerFactory',\n    value: function registerFactory(name, factory) {\n      (0, _util.validateTarget)(factory);\n      this._registry.targets[name] = factory;\n    }\n\n    /**\n     * Registers a factory with the kernel who's value will be cached for all\n     * future requests.\n     * @param {String} name\n     * @param {Target} factory\n     */\n  }, {\n    key: 'registerFactoryAsSingleton',\n    value: function registerFactoryAsSingleton(name, factory) {\n      (0, _util.validateTarget)(factory);\n      this._registry.targets[name] = this._singletonFactory(factory);\n    }\n\n    /**\n     * Registers an async factory with the kernel.\n     * @param {String} name\n     * @param {AsyncFactory} factory\n     */\n  }, {\n    key: 'registerAsyncFactory',\n    value: function registerAsyncFactory(name, factory) {\n      (0, _util.validateTarget)(factory);\n      this._registry.asyncTargets[name] = this._asyncFactory(name, factory);\n    }\n\n    /**\n     * Registers an async factory as an async delegate.\n     * @param {String} name\n     * @param {AsyncFactory} factory\n     */\n  }, {\n    key: 'registerAsyncFactoryAsSingleton',\n    value: function registerAsyncFactoryAsSingleton(name, factory) {\n      (0, _util.validateTarget)(factory);\n      factory = this._asyncFactory(name, factory);\n      var instance;\n      this._registry.asyncTargets[name] = function () {\n        if (instance === undefined) {\n          instance = factory();\n        }\n        return instance;\n      };\n    }\n\n    /**\n     * Registers an alias.\n     * @param {String} name\n     * @param {String} originalName\n     */\n  }, {\n    key: 'registerAlias',\n    value: function registerAlias(aliasName, originalName) {\n      this._registry.redirects.push({\n        redirect: function redirect(name) {\n          if (name === aliasName) {\n            return originalName;\n          }\n        }\n      });\n    }\n\n    /**\n     * Registers a resolver.\n     * @param {Pattern} pattern\n     * @param {ResolveHandler} handler\n     */\n  }, {\n    key: 'delegate',\n    value: function delegate(pattern, handler) {\n      var match = (0, _util.matchFromPattern)(pattern);\n      this._registry.resolvers.push({\n        resolve: function resolve(name, namedNode) {\n          if (match(name)) {\n            return handler(name, namedNode);\n          }\n        }\n      });\n    }\n\n    /**\n     * Registers an async resolver.\n     * @param {Pattern} pattern\n     * @param {AsyncResolveHandler} handler\n     */\n  }, {\n    key: 'delegateAsync',\n    value: function delegateAsync(pattern, handler) {\n      var match = (0, _util.matchFromPattern)(pattern);\n      this._registry.asyncResolvers.push({\n        resolveAsync: function resolveAsync(name, namedNode) {\n          return Promise.resolve().then(function () {\n            if (match(name)) {\n              return handler(name, namedNode);\n            }\n          });\n        }\n      });\n    }\n\n    /**\n     * Registers another kernel to provide resolutions for the specified\n     * namespace.\n     * @param {String} namespace\n     * @param {Kernel} kernel\n     */\n  }, {\n    key: 'delegateNamespace',\n    value: function delegateNamespace(namespace, kernel) {\n      this._registry.resolvers.push({\n        resolve: function resolve(name) {\n          if (name.startsWith(namespace)) {\n            return kernel.factoryFor(name.substr(namespace.length));\n          }\n        }\n      });\n      this._registry.asyncResolvers.push({\n        resolveAsync: function resolveAsync(name) {\n          return Promise.resolve().then(function () {\n            if (name.startsWith(namespace)) {\n              return kernel.factoryForAsync(name.substr(namespace.length));\n            }\n          });\n        }\n      });\n    }\n\n    /**\n     * @param {String} name\n     * @returns {Target|undefined}\n     */\n  }, {\n    key: 'targetForName',\n    value: function targetForName(name) {\n      return this._registry.targets[name];\n    }\n\n    /**\n     * @param {String} name\n     * @returns {AsyncTarget|undefined}\n     */\n  }, {\n    key: 'asyncTargetForName',\n    value: function asyncTargetForName(name) {\n      var _this = this;\n\n      if (this._registry.asyncTargets[name]) {\n        return this._registry.asyncTargets[name];\n      } else if (this._registry.targets[name]) {\n        var _ret = (function () {\n          var target = _this._registry.targets[name];\n          return {\n            v: function () {\n              return Promise.resolve(target);\n            }\n          };\n        })();\n\n        if (typeof _ret === 'object') return _ret.v;\n      }\n    }\n\n    /**\n     * @param {String} [name] Optional name of the parent node.\n     * @param {Target} target\n     * @param {Object.<String, *>} [locals]\n     *   If present, dependencies are read from this object first before the\n     *   kernel is consulted.\n     * @returns {Recipe}\n     */\n  }, {\n    key: '_recipeFromArgs',\n    value: function _recipeFromArgs(name, target, locals) {\n      var _this2 = this;\n\n      if (name && typeof name !== 'string') {\n        locals = target;\n        target = name;\n        name = null;\n      }\n      var recipe = (0, _util.recipeFromTarget)(target);\n      recipe.name = name || recipe.name;\n      if (locals) {\n        recipe.ingredients = recipe.ingredients.map(function (x) {\n          var local = locals[x];\n          if (local === undefined) {\n            local = _this2.localResolvers.reduce(function (value, handler) {\n              if (value === undefined) {\n                return handler.resolve(x, locals);\n              } else {\n                return value;\n              }\n            }, undefined);\n          }\n          if (local !== undefined) {\n            return function () {\n              return local;\n            };\n          } else {\n            return x;\n          }\n        });\n      }\n      return recipe;\n    }\n  }, {\n    key: '_childRecipeFromArgs',\n    value: function _childRecipeFromArgs(name, target, locals) {\n      return new _Recipe2['default']({\n        create: function create(x) {\n          return x;\n        },\n        ingredients: [this._recipeFromArgs(name, target, locals)]\n      });\n    }\n  }, {\n    key: '_singletonFactory',\n    value: function _singletonFactory(factory) {\n      var instance;\n      var recipe = (0, _util.recipeFromTarget)(factory);\n      return recipe.ingredients.concat(function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        if (instance === undefined) {\n          instance = recipe.create.apply(undefined, args);\n        }\n        return instance;\n      });\n    }\n  }, {\n    key: '_asyncFactory',\n    value: function _asyncFactory(name, factory) {\n      var _this3 = this;\n\n      var recipe = (0, _util.recipeFromTarget)(factory);\n      return function () {\n        return _this3.invokeChildAsync(name, recipe.ingredients.concat([function () {\n          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          return Promise.resolve().then(function () {\n            return recipe.create.apply(undefined, args);\n          }).then(function (value) {\n            return function () {\n              return value;\n            };\n          });\n        }]));\n      };\n    }\n  }, {\n    key: 'resolvers',\n    get: function get() {\n      return this._registry.resolvers;\n    },\n\n    /**\n     * @param {Array.<ResolveHandler>} value\n     */\n    set: function set(value) {\n      this._registry.resolvers = value;\n    }\n\n    /**\n     * @returns {Array.<AsyncResolveHandler}\n     */\n  }, {\n    key: 'asyncResolvers',\n    get: function get() {\n      return this._registry.asyncResolvers;\n    },\n\n    /**\n     * @param {Array.<AsyncResolveHandler} value\n     */\n    set: function set(value) {\n      this._registry.asyncResolvers = value;\n    }\n\n    /**\n     * @returns {Array.<RedirectHandler}\n     */\n  }, {\n    key: 'redirects',\n    get: function get() {\n      return this._registry.redirects;\n    },\n\n    /**\n     * @param {Array.<RedirectHandler} value\n     */\n    set: function set(value) {\n      this._registry.redirects = value;\n    }\n  }]);\n\n  return Kernel;\n})();\n\nexports['default'] = Kernel;\n;\nmodule.exports = exports['default'];",
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LazyResolver = (function () {\n  function LazyResolver(kernel) {\n    _classCallCheck(this, LazyResolver);\n\n    this.kernel = kernel;\n    this.pattern = /\\.\\.\\.$/;\n  }\n\n  /**\n   * @param {String} name\n   * @param {NamedNode} [namedNode]\n   */\n\n  _createClass(LazyResolver, [{\n    key: \"resolve\",\n    value: function resolve(name, namedNode) {\n      var _this = this;\n\n      if (this.pattern.test(name)) {\n        name = name.substr(0, name.length - 3);\n        var promise;\n        return function () {\n          if (!promise) {\n            (function () {\n              promise = Promise.resolve();\n              var promise2 = undefined;\n              // Only resolve things once the promise is awaited on.\n              promise.then = function () {\n                for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                  args[_key] = arguments[_key];\n                }\n\n                if (!promise2) {\n                  // Make sure we only resolve this once no matter how many times\n                  // the promise is awaited on.\n                  promise2 = Promise.resolve().then(function () {\n                    var target = [name, function (dep) {\n                      return dep;\n                    }];\n                    if (namedNode && namedNode.isChildNode) {\n                      return _this.kernel.invokeChildAsync(namedNode.name, target);\n                    } else {\n                      return _this.kernel.invokeAsync(target);\n                    }\n                  });\n                }\n                return promise2.then.apply(promise2, args);\n              };\n            })();\n          }\n          return promise;\n        };\n      }\n    }\n  }]);\n\n  return LazyResolver;\n})();\n\nexports[\"default\"] = LazyResolver;\n;\nmodule.exports = exports[\"default\"];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _Recipe = require('./Recipe');\n\nvar _Recipe2 = _interopRequireDefault(_Recipe);\n\nvar _Component = require('./Component');\n\nvar _Component2 = _interopRequireDefault(_Component);\n\nvar _util = require('./util');\n\nvar _InvalidOperationError = require('./InvalidOperationError');\n\nvar _InvalidOperationError2 = _interopRequireDefault(_InvalidOperationError);\n\nvar Linker = (function () {\n  function Linker() {\n    _classCallCheck(this, Linker);\n\n    /**\n     * @type {LinkerDelegate}\n     */\n    this.delegate = null;\n  }\n\n  /**\n   * @param {Recipe} recipe\n   * @returns {Function}\n   */\n\n  _createClass(Linker, [{\n    key: 'factoryFromRecipe',\n    value: function factoryFromRecipe(recipe) {\n      var _this = this;\n\n      var component = this._componentFromRecipe(recipe);\n      var stack = [component];\n\n      var _loop = function () {\n        var component = stack.shift();\n        component.recipe.ingredients.forEach(function (ingredient, index) {\n          var recipe;\n          if (typeof ingredient === 'string') {\n            recipe = _this.delegate.recipeForName(ingredient, {\n              name: component.recipe.name,\n              isChildNode: !!component.parent\n            });\n          } else if (ingredient instanceof _Recipe2['default']) {\n            recipe = ingredient;\n          } else {\n            recipe = (0, _util.recipeFromTarget)(ingredient);\n          }\n          var child = _this._makeChildComponent(component, recipe, index);\n          stack.push(child);\n        });\n      };\n\n      while (stack.length > 0) {\n        _loop();\n      }\n      return this._factoryFromComponent(component);\n    }\n\n    /**\n     * @param {Recipe} recipe\n     * @returns {Promise.<Function>}\n     */\n  }, {\n    key: 'factoryFromRecipeAsync',\n    value: function factoryFromRecipeAsync(recipe) {\n      var _this2 = this;\n\n      return Promise.resolve().then(function () {\n        var component = _this2._componentFromRecipe(recipe);\n        var resolve = function resolve(component) {\n          return _this2.delegate.recipesByNameAsync(component.recipe.ingredients.filter(function (x) {\n            return typeof x === 'string';\n          }), {\n            name: component.recipe.name,\n            isChildNode: !!component.parent\n          }).then(function (recipes) {\n            return Promise.all(component.recipe.ingredients.map(function (ingredient, index) {\n              var recipe;\n              if (typeof ingredient === 'string') {\n                recipe = recipes[ingredient];\n              } else if (ingredient instanceof _Recipe2['default']) {\n                recipe = ingredient;\n              } else {\n                recipe = (0, _util.recipeFromTarget)(ingredient);\n              }\n              return _this2._makeChildComponent(component, recipe, index);\n            }).map(resolve));\n          });\n        };\n        return resolve(component).then(function () {\n          return _this2._factoryFromComponent(component);\n        });\n      });\n    }\n\n    /**\n     * @param {Component} component\n     * @returns {Function}\n     */\n  }, {\n    key: '_factoryFromComponent',\n    value: function _factoryFromComponent(component) {\n      var components = [];\n      var stack = [component];\n      while (stack.length > 0) {\n        var cmp = stack.shift();\n        components.push(cmp);\n        stack = stack.concat(cmp.children);\n      }\n      components.reverse().pop();\n\n      return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var i = 0,\n            len = components.length;\n        for (; i < len; i++) {\n          var cmp = components[i];\n          cmp.parent.prep[cmp.order] = cmp.recipe.create.apply(undefined, cmp.prep);\n          cmp.prep = [];\n        }\n        args = component.prep.concat(args);\n        component.prep = [];\n        return component.recipe.create.apply(undefined, args);\n      };\n    }\n\n    /**\n     * @param {Component} parent\n     * @param {Recipe} recipe\n     * @param {Number} position\n     * @returns {Component}\n     */\n  }, {\n    key: '_makeChildComponent',\n    value: function _makeChildComponent(parent, recipe, position) {\n      var child = this._componentFromRecipe(recipe, {\n        parent: parent,\n        order: position\n      });\n      parent.children[position] = child;\n      this._checkForCircularDependency(child);\n      return child;\n    }\n\n    /**\n     * @param {Component} component\n     */\n  }, {\n    key: '_checkForCircularDependency',\n    value: function _checkForCircularDependency(component) {\n      var node = component.parent;\n      var last = component;\n      while (node) {\n        if (node.recipe.name !== null && node.recipe.name === component.recipe.name) {\n          throw new _InvalidOperationError2['default']('Detected circular dependency to \\'' + component.recipe.name + '\\' through \\'' + last.recipe.name + '\\'.');\n        }\n        last = node;\n        node = node.parent;\n      }\n    }\n\n    /**\n     * @param {Recipe} recipe\n     * @param {Object} [defaults]\n     * @returns {Component}\n     */\n  }, {\n    key: '_componentFromRecipe',\n    value: function _componentFromRecipe(recipe, defaults) {\n      var _this3 = this;\n\n      var component = new _Component2['default'](recipe);\n      if (defaults) {\n        component.parent = defaults.parent;\n        component.order = defaults.order;\n      }\n      component.recipe.ingredients = component.recipe.ingredients.map(function (ingredient) {\n        if (typeof ingredient === 'string') {\n          return _this3.delegate.resolveName(ingredient, {\n            name: component.recipe.name,\n            isChildNode: !!component.parent\n          });\n        } else {\n          return ingredient;\n        }\n      });\n      return component;\n    }\n  }]);\n\n  return Linker;\n})();\n\nexports['default'] = Linker;\nmodule.exports = exports['default'];",
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OptionalLocalResolver = (function () {\n  function OptionalLocalResolver(kernel) {\n    _classCallCheck(this, OptionalLocalResolver);\n\n    this.kernel = kernel;\n    this.pattern = /\\?$/;\n  }\n\n  /**\n   * @param {String} name\n   * @param {Object} locals\n   */\n\n  _createClass(OptionalLocalResolver, [{\n    key: \"resolve\",\n    value: function resolve(name, locals) {\n      if (this.pattern.test(name)) {\n        name = name.substr(0, name.length - 1);\n        return locals[name];\n      }\n    }\n  }]);\n\n  return OptionalLocalResolver;\n})();\n\nexports[\"default\"] = OptionalLocalResolver;\n;\nmodule.exports = exports[\"default\"];",
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OptionalResolver = (function () {\n  function OptionalResolver(kernel) {\n    _classCallCheck(this, OptionalResolver);\n\n    this.kernel = kernel;\n    this.pattern = /\\?$/;\n  }\n\n  /**\n   * @param {String} name\n   */\n\n  _createClass(OptionalResolver, [{\n    key: \"resolve\",\n    value: function resolve(name) {\n      if (this.pattern.test(name)) {\n        name = name.substr(0, name.length - 1);\n        if (this.kernel.targetForName(name)) {\n          return this.kernel.factoryFor(name);\n        } else {\n          return function () {\n            return undefined;\n          };\n        }\n      }\n    }\n  }, {\n    key: \"resolveAsync\",\n    value: function resolveAsync(name) {\n      if (this.pattern.test(name)) {\n        name = name.substr(0, name.length - 1);\n        if (this.kernel.asyncTargetForName(name)) {\n          return this.kernel.factoryForAsync(name);\n        } else {\n          return Promise.resolve(function () {\n            return undefined;\n          });\n        }\n      } else {\n        return Promise.resolve();\n      }\n    }\n  }]);\n\n  return OptionalResolver;\n})();\n\nexports[\"default\"] = OptionalResolver;\n;\nmodule.exports = exports[\"default\"];",
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Recipe = (function () {\n  /**\n   * @param {Object} [defaults]\n   */\n\n  function Recipe(defaults) {\n    _classCallCheck(this, Recipe);\n\n    defaults = defaults || {};\n\n    /**\n     * @type {String|null}\n     */\n    this.name = defaults.name || null;\n\n    /**\n     * @type {Function}\n     */\n    this.create = defaults.create;\n\n    /**\n     * An ingredient can be the name of a service or a factory.\n     * @type {Array.<String|Target|Recipe>}\n     */\n    this.ingredients = (defaults.ingredients || []).slice();\n  }\n\n  /**\n   * @returns {Recipe}\n   */\n\n  _createClass(Recipe, [{\n    key: \"clone\",\n    value: function clone() {\n      return new Recipe(this);\n    }\n  }]);\n\n  return Recipe;\n})();\n\nexports[\"default\"] = Recipe;\n;\nmodule.exports = exports[\"default\"];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _Recipe = require('./Recipe');\n\nvar _Recipe2 = _interopRequireDefault(_Recipe);\n\nvar _util = require('./util');\n\nvar _ServiceNotFoundError = require('./ServiceNotFoundError');\n\nvar _ServiceNotFoundError2 = _interopRequireDefault(_ServiceNotFoundError);\n\nvar _InvalidOperationError = require('./InvalidOperationError');\n\nvar _InvalidOperationError2 = _interopRequireDefault(_InvalidOperationError);\n\nvar Registry = (function () {\n  function Registry() {\n    _classCallCheck(this, Registry);\n\n    /**\n     * @type {Object.<String, Target>}\n     */\n    this.targets = {};\n\n    /**\n     * @type {Object.<String, AsyncTarget>}\n     */\n    this.asyncTargets = {};\n\n    /**\n     * @type {Array.<ResolveHandler>}\n     */\n    this.resolvers = [];\n\n    /**\n     * @type {Array.<AsyncResolveHandler}\n     */\n    this.asyncResolvers = [];\n\n    /**\n     * @type {Array.<RedirectHandler}\n     */\n    this.redirects = [];\n  }\n\n  /**\n   * @param {String} name\n   * @param {NamedNode} [namedNode]\n   * @returns {Recipe}\n   */\n\n  _createClass(Registry, [{\n    key: 'recipeForName',\n    value: function recipeForName(name, namedNode) {\n      return this._recipeFromTarget(name, this._locateTarget(name, namedNode));\n    }\n\n    /**\n     * @param {Array.<String>} names\n     * @param {NamedNode} [namedNode]\n     * @returns {Promise.<Object.<String, Recipe>>}\n     */\n  }, {\n    key: 'recipesByNameAsync',\n    value: function recipesByNameAsync(names, namedNode) {\n      var _this = this;\n\n      names = (0, _util.distinct)(names);\n      return Promise.all(names.map(function (name) {\n        return _this._locateTargetAsync(name, namedNode);\n      })).then(function (targets) {\n        var recipes = {};\n        for (var i = 0; i < names.length; i++) {\n          var _name = names[i];\n          recipes[_name] = _this._recipeFromTarget(_name, targets[i]);\n        }\n        return recipes;\n      });\n    }\n\n    /**\n     * @param {String} name\n     * @param {NamedNode} [namedNode]\n     * @returns {String}\n     */\n  }, {\n    key: 'resolveName',\n    value: function resolveName(name, namedNode) {\n      var initial = name;\n      var history = [];\n      while (true) {\n        if (history.indexOf(name) > -1) {\n          throw new _InvalidOperationError2['default']('Redirect loop encountered while resolving \\'' + name + '\\' for \\'' + initial + '\\'');\n        } else {\n          history.push(name);\n        }\n        var result = this.redirects.reduce(function (acc, handler) {\n          return acc || handler.redirect(name, namedNode);\n        }, null);\n        if (!result) {\n          return name;\n        } else {\n          name = result;\n        }\n      }\n    }\n\n    /**\n     * Returns a new recipe by combining the first recipe with the details from\n     * the target.\n     * @param {String} name\n     * @param {Target} target\n     * @returns {Recipe}\n     */\n  }, {\n    key: '_recipeFromTarget',\n    value: function _recipeFromTarget(name, target) {\n      var _recipeFromTarget2 = (0, _util.recipeFromTarget)(target);\n\n      var ingredients = _recipeFromTarget2.ingredients;\n      var create = _recipeFromTarget2.create;\n\n      return new _Recipe2['default']({\n        name: name,\n        create: create,\n        ingredients: ingredients\n      });\n    }\n\n    /**\n     * @param {String} name\n     * @param {NamedNode} [namedNode]\n     * @returns {Target}\n     */\n  }, {\n    key: '_locateTarget',\n    value: function _locateTarget(name, namedNode) {\n      if (this.targets[name]) {\n        return this.targets[name];\n      }\n      var target = this.resolvers.reduce(function (target, handler) {\n        return target || handler.resolve(name, namedNode);\n      }, null);\n      if (target === undefined) {\n        var message = 'Could not locate service \\'' + name + '\\'';\n        if (namedNode && namedNode.name) {\n          message += ' for \\'' + namedNode.name + '\\'';\n        }\n        throw new _ServiceNotFoundError2['default'](message);\n      } else {\n        (0, _util.validateTarget)(target);\n      }\n      return target;\n    }\n\n    /**\n     * @param {String} name\n     * @param {NamedNode} [namedNode]\n     * @returns {Promise.<Target>}\n     */\n  }, {\n    key: '_locateTargetAsync',\n    value: function _locateTargetAsync(name, namedNode) {\n      var _this2 = this;\n\n      if (this.asyncTargets[name]) {\n        return this.asyncTargets[name]();\n      }\n      if (this.targets[name]) {\n        return this.targets[name];\n      }\n      var resolvers = this.asyncResolvers.slice();\n      var next = function next() {\n        var resolver = resolvers.shift();\n        if (resolver) {\n          return resolver.resolveAsync(name, namedNode).then(function (target) {\n            return target || next();\n          });\n        }\n      };\n      return Promise.resolve().then(next).then(function (target) {\n        if (target === undefined) {\n          return _this2._locateTarget(name, namedNode);\n        } else {\n          (0, _util.validateTarget)(target);\n        }\n        return target;\n      });\n    }\n  }]);\n\n  return Registry;\n})();\n\nexports['default'] = Registry;\n;\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ServiceNotFoundError = (function (_Error) {\n  _inherits(ServiceNotFoundError, _Error);\n\n  function ServiceNotFoundError(message) {\n    _classCallCheck(this, ServiceNotFoundError);\n\n    _get(Object.getPrototypeOf(ServiceNotFoundError.prototype), 'constructor', this).call(this);\n    this.name = 'ServiceNotFoundError';\n    this.message = message;\n  }\n\n  return ServiceNotFoundError;\n})(Error);\n\nexports['default'] = ServiceNotFoundError;\n;\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _Bundle = require('./Bundle');\n\nvar _Bundle2 = _interopRequireDefault(_Bundle);\n\nvar _InvalidOperationError = require('./InvalidOperationError');\n\nvar _InvalidOperationError2 = _interopRequireDefault(_InvalidOperationError);\n\nvar _Kernel = require('./Kernel');\n\nvar _Kernel2 = _interopRequireDefault(_Kernel);\n\nvar _LazyResolver = require('./LazyResolver');\n\nvar _LazyResolver2 = _interopRequireDefault(_LazyResolver);\n\nvar _ServiceNotFoundError = require('./ServiceNotFoundError');\n\nvar _ServiceNotFoundError2 = _interopRequireDefault(_ServiceNotFoundError);\n\nexports['default'] = {\n  Bundle: _Bundle2['default'],\n  InvalidOperationError: _InvalidOperationError2['default'],\n  Kernel: _Kernel2['default'],\n  LazyResolver: _LazyResolver2['default'],\n  ServiceNotFoundError: _ServiceNotFoundError2['default']\n};\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (target) {\n  var deps;\n  if (typeof target === 'function') {\n    deps = target.$inject || [];\n  } else {\n    deps = target.slice();\n    target = deps.pop();\n  }\n  return deps.concat([target]);\n};\n\n;\nmodule.exports = exports['default'];",
    "/**\n * Safely combines multiple path segments.\n * @param {...String} paths\n * @returns {String}\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function () {\n  for (var _len = arguments.length, paths = Array(_len), _key = 0; _key < _len; _key++) {\n    paths[_key] = arguments[_key];\n  }\n\n  return paths.map(function (path, index) {\n    return index === 0 ? path.replace(/\\/$/, '') : path.replace(/(^\\/|\\/$)/g, '');\n  }).join('/');\n};\n\n;\nmodule.exports = exports['default'];",
    "/**\n * @param {Array} items\n * @returns {Array}\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = function (items) {\n  return items.reduce(function (acc, item) {\n    if (acc.indexOf(item) === -1) {\n      return acc.concat([item]);\n    }\n    return acc;\n  }, []);\n};\n\n;\nmodule.exports = exports[\"default\"];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _arrayFromTarget = require('./arrayFromTarget');\n\nvar _arrayFromTarget2 = _interopRequireDefault(_arrayFromTarget);\n\nvar _combinePaths = require('./combinePaths');\n\nvar _combinePaths2 = _interopRequireDefault(_combinePaths);\n\nvar _distinct = require('./distinct');\n\nvar _distinct2 = _interopRequireDefault(_distinct);\n\nvar _matchFromPattern = require('./matchFromPattern');\n\nvar _matchFromPattern2 = _interopRequireDefault(_matchFromPattern);\n\nvar _recipeFromTarget = require('./recipeFromTarget');\n\nvar _recipeFromTarget2 = _interopRequireDefault(_recipeFromTarget);\n\nvar _validateTarget = require('./validateTarget');\n\nvar _validateTarget2 = _interopRequireDefault(_validateTarget);\n\nexports['default'] = {\n  arrayFromTarget: _arrayFromTarget2['default'],\n  combinePaths: _combinePaths2['default'],\n  distinct: _distinct2['default'],\n  matchFromPattern: _matchFromPattern2['default'],\n  recipeFromTarget: _recipeFromTarget2['default'],\n  validateTarget: _validateTarget2['default']\n};\nmodule.exports = exports['default'];",
    "/**\n * @param {Pattern} pattern\n * @returns {Function}\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (pattern) {\n  if (typeof pattern === 'function') {\n    return pattern;\n  }\n  if (typeof pattern === 'string') {\n    return function (value) {\n      return value === pattern;\n    };\n  }\n  return function (value) {\n    return pattern.test(value);\n  };\n};\n\n;\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _Recipe = require('../Recipe');\n\nvar _Recipe2 = _interopRequireDefault(_Recipe);\n\nvar _arrayFromTarget = require('./arrayFromTarget');\n\nvar _arrayFromTarget2 = _interopRequireDefault(_arrayFromTarget);\n\n/**\n * @param {Target} target\n * @returns {Recipe}\n */\n\nexports['default'] = function (target) {\n  target = (0, _arrayFromTarget2['default'])(target);\n  return new _Recipe2['default']({\n    create: target[target.length - 1],\n    ingredients: target.slice(0, target.length - 1)\n  });\n};\n\n;\nmodule.exports = exports['default'];",
    "/**\n * @param {Target} target\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (target) {\n  if (typeof target !== 'function') {\n    if (!Array.isArray(target)) {\n      throw new Error('Expected target to be an array or function.');\n    }\n    if (typeof target[target.length - 1] !== 'function') {\n      throw new Error('The last element of an array target should be a function.');\n    }\n  }\n};\n\n;\nmodule.exports = exports['default'];"
  ]
}