(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Palkia = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"document"in window.self&&("classList"in document.createElement("_")?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],f=function(){return new l(this)};if(a[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==c(this,t)},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",-1===c(this,t)&&(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=c(this,t);-1!==e;)this.splice(e,1),r=!0,e=c(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.toString=function(){return this.join(" ")},s.defineProperty){var h={get:f,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,h)}catch(d){-2146823252===d.number&&(h.enumerable=!1,s.defineProperty(i,e,h))}}else s[n].__defineGetter__&&i.__defineGetter__(e,f)}}(window.self));

},{}],2:[function(require,module,exports){
!function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):this[n]=t()}("$script",function(){function n(n,t){for(var e=0,o=n.length;o>e;++e)if(!t(n[e]))return c;return 1}function t(t,e){n(t,function(n){return!e(n)})}function e(r,u,f){function c(n){return n.call?n():s[n]}function l(){if(!--y){s[v]=1,g&&g();for(var e in m)n(e.split("|"),c)&&!t(m[e],c)&&(m[e]=[])}}r=r[a]?r:[r];var d=u&&u.call,g=d?u:f,v=d?r.join(""):u,y=r.length;return setTimeout(function(){t(r,function n(t,e){return null===t?l():(e||/^https?:\/\//.test(t)||!i||(t=-1===t.indexOf(".js")?i+t+".js":i+t),p[t]?(v&&(h[v]=1),2==p[t]?l():setTimeout(function(){n(t,!0)},0)):(p[t]=1,v&&(h[v]=1),void o(t,l)))})},0),e}function o(n,t){var e,o=u.createElement("script");o.onload=o.onerror=o[d]=function(){o[l]&&!/^c|loade/.test(o[l])||e||(o.onload=o[d]=null,e=1,p[n]=2,t())},o.async=1,o.src=r?n+(-1===n.indexOf("?")?"?":"&")+r:n,f.insertBefore(o,f.lastChild)}var i,r,u=document,f=u.getElementsByTagName("head")[0],c=!1,a="push",l="readyState",d="onreadystatechange",s={},h={},m={},p={};return e.get=o,e.order=function(n,t,o){!function i(r){r=n.shift(),n.length?e(r,i):e(r,t,o)}()},e.path=function(n){i=n},e.urlArgs=function(n){r=n},e.ready=function(o,i,r){o=o[a]?o:[o];var u=[];return!t(o,function(n){s[n]||u[a](n)})&&n(o,function(n){return s[n]})?i():!function(n){m[n]=m[n]||[],m[n][a](i),r&&r(u)}(o.join("|")),e},e.done=function(n){e([null],n)},e});

},{}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),AmdResolver=function(){function e(r){_classCallCheck(this,e),this.requireContext=r}return _createClass(e,[{key:"resolveAsync",value:function(e){var r=this;return new Promise(function(n,t){r.requireContext([e],n,t)})}}]),e}();exports["default"]=AmdResolver;

},{}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={uid:0,pending:{}};

},{}],5:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(s){return void n(s)}return u.done?void e(a):Promise.resolve(a).then(function(e){return r("next",e)},function(e){return r("throw",e)})}return r("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_Bundle2=require("../common/Bundle"),_Bundle3=_interopRequireDefault(_Bundle2),_loadFontAsync2=require("./util/loadFontAsync"),_loadFontAsync3=_interopRequireDefault(_loadFontAsync2),_loadScriptAsync2=require("./util/loadScriptAsync"),_loadScriptAsync3=_interopRequireDefault(_loadScriptAsync2),_loadStyleAsync2=require("./util/loadStyleAsync"),_loadStyleAsync3=_interopRequireDefault(_loadStyleAsync2),WebBundle=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"loadScriptAsync",value:function(e){return(0,_loadScriptAsync3["default"])(e)}},{key:"loadStyleAsync",value:function(e){return(0,_loadStyleAsync3["default"])(e)}},{key:"loadFontAsync",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function n(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.resolveAsync("webfont?");case 2:if(n.t0=n.sent,n.t0){n.next=5;break}n.t0=window.WebFont;case 5:if(t=n.t0){n.next=10;break}return n.next=9,this.loadScriptAsync({url:"https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js",get:function(){return window.WebFont}});case 9:t=n.sent;case 10:return n.next=12,(0,_loadFontAsync3["default"])(t,e);case 12:case"end":return n.stop()}},n,this)}));return e}()},{key:"registerFont",value:function(e,t){this._registerFont(e,t,!1)}},{key:"registerInternalFont",value:function(e,t){this._registerFont(e,t,!0)}},{key:"registerScript",value:function(e,t){this._registerScript(e,t,!1)}},{key:"registerInternalScript",value:function(e,t){this._registerScript(e,t,!0)}},{key:"registerStyle",value:function(e,t){this._registerStyle(e,t,!1)}},{key:"registerInternalStyle",value:function(e,t){this._registerStyle(e,t,!0)}},{key:"_registerStyle",value:function(e,t,n){var r,o=this;this.registerAsyncResolver({resolveAsync:function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function i(n){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e!==n){i.next=3;break}return r||(r=o.loadStyleAsync(t).then(function(){return o.register(e),function(){}})),i.abrupt("return",r);case 3:case"end":return i.stop()}},i,o)}));return function(e){return n.apply(this,arguments)}}()},n)}},{key:"_registerScript",value:function(e,t,n){var r,o=this;this.registerAsyncResolver({resolveAsync:function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function i(n){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e!==n){i.next=3;break}return r||(r=o.loadScriptAsync(t).then(function(t){return o.register(e,t),function(){return t}})),i.abrupt("return",r);case 3:case"end":return i.stop()}},i,o)}));return function(e){return n.apply(this,arguments)}}()},n)}},{key:"_registerFont",value:function(e,t,n){var r,o=this;this.registerAsyncResolver({resolveAsync:function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function i(n){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e!==n){i.next=3;break}return r||(r=o.loadFontAsync(t).then(function(){return o.register(e),function(){}})),i.abrupt("return",r);case 3:case"end":return i.stop()}},i,o)}));return function(e){return n.apply(this,arguments)}}()},n)}}],[{key:"create",value:function(e,n){var r=new t;return r.invoke(e,n)}},{key:"createAsync",value:function(e,n){var r=new t;return r.invokeAsync(e,n)}}]),t}(_Bundle3["default"]);exports["default"]=WebBundle;

},{"../common/Bundle":15,"./util/loadFontAsync":9,"./util/loadScriptAsync":10,"./util/loadStyleAsync":12}],6:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AmdResolver=exports.WebBundle=void 0;var _common=require("../common");Object.keys(_common).forEach(function(e){"default"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _common[e]}})}),require("classlist-polyfill");var _WebBundle2=require("./WebBundle"),_WebBundle3=_interopRequireDefault(_WebBundle2),_AmdResolver2=require("./AmdResolver"),_AmdResolver3=_interopRequireDefault(_AmdResolver2);exports.WebBundle=_WebBundle3["default"],exports.AmdResolver=_AmdResolver3["default"];

},{"../common":26,"./AmdResolver":3,"./WebBundle":5,"classlist-polyfill":1}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e,t){var o=document.createElement("div"),d=document.createTextNode(t||"BESbswy");o.appendChild(d),o.style.position="absolute",o.style.top="0",o.style.left="-9999px",o.style.fontFamily="monospace",o.style.fontSize="72px",document.body.appendChild(o);var s=o.offsetWidth;o.style.fontFamily="'"+e+"', monospace";var l=o.offsetWidth;return document.body.removeChild(o),s!==l};

},{}],8:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){var r=document.querySelector('link[href$="'+e+'"]');return r&&r.href};

},{}],9:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function o(n,u){try{var a=t[n](u),i=a.value}catch(f){return void r(f)}return a.done?void e(i):Promise.resolve(i).then(function(e){return o("next",e)},function(e){return o("throw",e)})}return o("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _fontIsLoaded=require("./fontIsLoaded"),_fontIsLoaded2=_interopRequireDefault(_fontIsLoaded),_hrefForGoogleFont=require("./hrefForGoogleFont"),_hrefForGoogleFont2=_interopRequireDefault(_hrefForGoogleFont),_moveStyleToTop=require("./moveStyleToTop"),_moveStyleToTop2=_interopRequireDefault(_moveStyleToTop);exports["default"]=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((0,_fontIsLoaded2["default"])(r.name,r.testString)){t.next=3;break}return t.next=3,new Promise(function(t){var o,n,u=r.family||r.name,a=(o={},_defineProperty(o,r.provider,{families:[u]}),_defineProperty(o,"active",function(){switch((0,_fontIsLoaded2["default"])(r.name,r.testString)||console.warn("A font was successfully loaded, but the font could not be "+('detected. Perhaps the font name "'+r.name+'" is wrong?')),r.provider){case"custom":(0,_moveStyleToTop2["default"])(n,r.order);break;case"google":var e=(0,_hrefForGoogleFont2["default"])(u.replace(/ /g,"+"));e&&(0,_moveStyleToTop2["default"])(e,r.order)}t()}),o);"custom"===r.provider&&(n="function"==typeof r.url?r.url():r.url,a.custom.urls=[n],a.custom.testStrings=_defineProperty({},r.name,r.testString)),e.load(a)});case 3:case"end":return t.stop()}},t,this)}));return function(t,r){return e.apply(this,arguments)}}();

},{"./fontIsLoaded":7,"./hrefForGoogleFont":8,"./moveStyleToTop":13}],10:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(u,i){try{var a=t[u](i),o=a.value}catch(c){return void r(c)}return a.done?void e(o):Promise.resolve(o).then(function(e){return n("next",e)},function(e){return n("throw",e)})}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _scriptjs=require("scriptjs"),_scriptjs2=_interopRequireDefault(_scriptjs),_GLOBAL=require("../GLOBAL"),_GLOBAL2=_interopRequireDefault(_GLOBAL);exports["default"]=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var r,n,u=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=void 0;try{e.get&&(r=e.get())}catch(i){}if(r&&e.get){t.next=4;break}return t.delegateYield(regeneratorRuntime.mark(function a(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t="function"==typeof e.url?e.url():e.url,_GLOBAL2["default"].pending[t]||(_GLOBAL2["default"].pending[t]=new Promise(function(r){e.callback?!function(){var e="arceus_callback_"+ ++_GLOBAL2["default"].uid;window[e]=function(){delete window[e],r()},(0,_scriptjs2["default"])(t+"&callback="+e)}():(0,_scriptjs2["default"])(t,function(){r()})})),n.next=4,_GLOBAL2["default"].pending[t];case 4:if(delete _GLOBAL2["default"].pending[t],!e.get){n.next=9;break}if(r=e.get()){n.next=9;break}throw new Error("A script was loaded successfully from "+t+", but the module returned undefined. Perhaps the 'get' function is wrong?");case 9:case"end":return n.stop()}},a,u)})(),"t0",4);case 4:if("function"!=typeof e.initAsync){t.next=9;break}return t.next=7,e.initAsync(r);case 7:n=t.sent,void 0!==n&&(r=n);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}();

},{"../GLOBAL":4,"scriptjs":2}],11:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e,t){var n=document.createElement("link");n.href=e,n.rel="stylesheet",n.type="text/css",n.onload=function(){n.onload=null,t()},document.head.appendChild(n)};

},{}],12:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,u){try{var a=t[o](u),l=a.value}catch(i){return void r(i)}return a.done?void e(l):Promise.resolve(l).then(function(e){return n("next",e)},function(e){return n("throw",e)})}return n("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var _GLOBAL=require("../GLOBAL"),_GLOBAL2=_interopRequireDefault(_GLOBAL),_loadStyle=require("./loadStyle"),_loadStyle2=_interopRequireDefault(_loadStyle),_moveStyleToTop=require("./moveStyleToTop"),_moveStyleToTop2=_interopRequireDefault(_moveStyleToTop),_styleIsLoaded=require("./styleIsLoaded"),_styleIsLoaded2=_interopRequireDefault(_styleIsLoaded);exports["default"]=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.match&&(0,_styleIsLoaded2["default"])(e.match)){t.next=6;break}return r="function"==typeof e.url?e.url():e.url,_GLOBAL2["default"].pending[r]||(_GLOBAL2["default"].pending[r]=new Promise(function(t){(0,_loadStyle2["default"])(r,function(){e.match&&!(0,_styleIsLoaded2["default"])(e.match)&&console.warn("A style was successfully loaded from "+r+", but the match expression returned false."),(0,_moveStyleToTop2["default"])(r,e.order),t()})})),t.next=5,_GLOBAL2["default"].pending[r];case 5:delete _GLOBAL2["default"].pending[r];case 6:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}();

},{"../GLOBAL":4,"./loadStyle":11,"./moveStyleToTop":13,"./styleIsLoaded":14}],13:[function(require,module,exports){
"use strict";function insertBefore(e,t){t.parentNode.insertBefore(e,t)}function insertAfter(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function first(e){return e[0]}function last(e){return e[e.length-1]}function filter(e,t){return Array.prototype.filter.call(e,t)}function queryFirst(e){return document.querySelector(e)}function queryAll(e){return document.querySelectorAll(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e,t){t=t||0;var r=queryFirst("link[href='"+e+"'][rel=stylesheet]");if(r.setAttribute("data-order",t),0===t)insertBefore(r,queryFirst("link[rel=stylesheet]:not([href='"+e+"'])"));else{var n=queryAll("link[rel=stylesheet][data-order]:not([href='"+e+"'])");if(n.length>0){var i=filter(n,function(e){return parseInt(e.getAttribute("data-order"),10)>t});i.length>0?insertBefore(r,first(i)):insertAfter(r,last(n))}else insertBefore(r,queryFirst("link[rel=stylesheet]:not([href='"+e+"'])"))}};

},{}],14:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="-9999px",e.classList.forEach(function(e){return t.classList.add(e)}),document.body.appendChild(t);var o=window.getComputedStyle(t),r=!0;for(var s in e.props)if(o.getPropertyValue(s)!==e.props[s]){r=!1;break}return document.body.removeChild(t),r};

},{}],15:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(i,o){try{var s=r[i](o),a=s.value}catch(u){return void t(u)}return s.done?void e(a):Promise.resolve(a).then(function(e){return n("next",e)},function(e){return n("throw",e)})}return n("next")})}}function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_Kernel=require("./Kernel"),_Kernel2=_interopRequireDefault(_Kernel),_arrayFromTarget=require("./util/arrayFromTarget"),_arrayFromTarget2=_interopRequireDefault(_arrayFromTarget),Bundle=function(){function e(r){_classCallCheck(this,e),this.name=r,this._kernel=new _Kernel2["default"],this._modules=[]}return _createClass(e,[{key:"listModules",value:function(){return this._modules.slice()}},{key:"register",value:function(e,r){this._kernel.register(e,r)}},{key:"registerLazy",value:function(e,r){this._kernel.registerLazy(e,r)}},{key:"registerFactory",value:function(e,r){this._kernel.registerFactory(e,r)}},{key:"registerFactoryAsSingleton",value:function(e,r){this._kernel.registerFactoryAsSingleton(e,r)}},{key:"registerAsyncFactoryAsSingleton",value:function(e,r){this._kernel.registerAsyncFactoryAsSingleton(e,r)}},{key:"resolve",value:function(e){return this._kernel.resolve(e)}},{key:"resolveAsync",value:function(e){return this._kernel.resolveAsync(e)}},{key:"invoke",value:function(e,r,t){return this._kernel.invoke(e,r,t)}},{key:"invokeAsync",value:function(e,r,t){return this._kernel.invokeAsync(e,r,t)}},{key:"registerModules",value:function(e){var r=this,t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.ignore,i=void 0===n?[]:n,o=t.asyncModules,s=void 0===o?!1:o,a=t.namespace,u=void 0===a?"":a,c=t.transform,l=void 0===c?null:c,f=t.transformAsync,y=void 0===f?null:f,v=function(t){try{var n=function(){var n=!1;if(i instanceof RegExp)n=i.test(t);else{var o=!0,a=!1,c=void 0;try{for(var f,v=i[Symbol.iterator]();!(o=(f=v.next()).done);o=!0){var h=f.value;if(/\/$/.test(h)){if(t.startsWith(h)){n=!0;break}}else if(t===h){n=!0;break}}}catch(g){a=!0,c=g}finally{try{!o&&v["return"]&&v["return"]()}finally{if(a)throw c}}}if(n)return{v:"continue"};var k=t.split("/"),_=u+t,d=k[k.length-1],p=e[t],m=(0,_arrayFromTarget2["default"])(e[t]),A=m.slice(0,m.length-1);m=m[m.length-1],s?!function(){var e=y||l;e&&(p=[].concat(_toConsumableArray(A),[function(){for(var r=arguments.length,n=Array(r),i=0;r>i;i++)n[i]=arguments[i];return Promise.resolve().then(function(){return m.apply(void 0,n)}).then(function(r){return e({name:t,instance:r})})}]))}():l&&(p=[].concat(_toConsumableArray(A),[function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return l({name:t,instance:m.apply(void 0,r)})}])),s?r._kernel.registerAsyncFactoryAsSingleton(_,p):r._kernel.registerFactoryAsSingleton(_,p),t.endsWith("/index")&&r._kernel.registerAlias(_.replace(/\/index$/,""),_),/^_/.test(d)&&!function(){var e=k.slice();e.pop(),e.push(d.substr(1));var t=u+e.join("/");r._kernel.redirects.push({redirect:function(e,r){return r&&r.isChildNode&&e===t?_:void 0}})}(),r._modules.push(_)}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}catch(o){throw new Error('Module registration failed for "'+t+'" because ['+o.message+"]")}};for(var h in e){v(h)}}},{key:"registerLink",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"":arguments[2];this._registerLink(e,r,t,!1)}},{key:"registerInternalLink",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"":arguments[2];this._registerLink(e,r,t,!0)}},{key:"registerLinkFactory",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return this._registerLinkFactory(e,r,t,!1)}},{key:"registerInternalLinkFactory",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return this._registerLinkFactory(e,r,t,!0)}},{key:"registerAsyncLinkFactory",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"":arguments[2];this._registerAsyncLinkFactory(e,r,t,!1)}},{key:"registerInternalAsyncLinkFactory",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?"":arguments[2];this._registerAsyncLinkFactory(e,r,t,!0)}},{key:"delegate",value:function(e,r,t){this._delegate(e,r,t||e,!1)}},{key:"delegateInternal",value:function(e,r,t){this._delegate(e,r,t||e,!0)}},{key:"registerResolver",value:function(e,r){this.resolvers.push({resolve:function(t,n){return!r||n&&n.isChildNode?e.resolve(t,n):void 0}})}},{key:"registerAsyncResolver",value:function(e,r){var t=this;this.asyncResolvers.push({resolveAsync:function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function i(n,o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!r||o&&o.isChildNode)){t.next=2;break}return t.abrupt("return",e.resolveAsync(n,o));case 2:case"end":return t.stop()}},i,t)}));return function(e,r){return n.apply(this,arguments)}}()})}},{key:"_registerLink",value:function(e,r,t,n){var i=this;this.registerResolver({resolve:function(n){return n.startsWith(e)?r._kernel.factoryFor(t+n.substr(e.length)):void 0}},n),this.registerAsyncResolver({resolveAsync:function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function o(n){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!n.startsWith(e)){i.next=2;break}return i.abrupt("return",r._kernel.factoryForAsync(t+n.substr(e.length)));case 2:case"end":return i.stop()}},o,i)}));return function(e){return n.apply(this,arguments)}}()},n)}},{key:"_registerLinkFactory",value:function(e,r,t,n){var i=this,o=void 0;this.registerResolver({resolve:function(n){return n.startsWith(e)?(o||(o=r()),o._kernel.factoryFor(t+n.substr(e.length))):void 0}},n),this.registerAsyncResolver({resolveAsync:function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function s(n){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!n.startsWith(e)){i.next=3;break}return o||(o=r()),i.abrupt("return",o._kernel.factoryForAsync(t+n.substr(e.length)));case 3:case"end":return i.stop()}},s,i)}));return function(e){return n.apply(this,arguments)}}()},n)}},{key:"_registerAsyncLinkFactory",value:function(e,r,t,n){var i=this,o=void 0;this.registerAsyncResolver({resolveAsync:function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function s(n){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!n.startsWith(e)){i.next=6;break}if(o){i.next=5;break}return i.next=4,r();case 4:o=i.sent;case 5:return i.abrupt("return",o._kernel.factoryForAsync(t+n.substr(e.length)));case 6:case"end":return i.stop()}},s,i)}));return function(e){return n.apply(this,arguments)}}()},n)}},{key:"_delegate",value:function(e,r,t,n){var i=this,o="_"+e;this._kernel.registerFactory(e,[o,function(e){return e}]),this.registerResolver({resolve:function(e){return o===e?r._kernel.factoryFor(t):void 0}},n),this.registerAsyncResolver({resolveAsync:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o!==e){n.next=2;break}return n.abrupt("return",r._kernel.factoryForAsync(t));case 2:case"end":return n.stop()}},n,i)}));return function(r){return e.apply(this,arguments)}}()})}},{key:"resolvers",get:function(){return this._kernel.resolvers}},{key:"asyncResolvers",get:function(){return this._kernel.asyncResolvers}},{key:"redirects",get:function(){return this._kernel.redirects}},{key:"localResolvers",get:function(){return this._kernel.localResolvers}}]),e}();exports["default"]=Bundle;

},{"./Kernel":18,"./util/arrayFromTarget":27}],16:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var Component=function e(t){_classCallCheck(this,e),this.recipe=t.clone(),this.parent=null,this.order=null,this.children=[],this.prep=[]};exports["default"]=Component;

},{}],17:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _extendableBuiltin(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var InvalidOperationError=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t));return r.name="InvalidOperationError",r.message=t,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=new Error(t).stack,r}return _inherits(e,t),e}(_extendableBuiltin(Error));exports["default"]=InvalidOperationError;

},{}],18:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_LazyResolver=require("./LazyResolver"),_LazyResolver2=_interopRequireDefault(_LazyResolver),_Linker=require("./Linker"),_Linker2=_interopRequireDefault(_Linker),_OptionalResolver=require("./OptionalResolver"),_OptionalResolver2=_interopRequireDefault(_OptionalResolver),_OptionalLocalResolver=require("./OptionalLocalResolver"),_OptionalLocalResolver2=_interopRequireDefault(_OptionalLocalResolver),_Recipe=require("./Recipe"),_Recipe2=_interopRequireDefault(_Recipe),_Registry=require("./Registry"),_Registry2=_interopRequireDefault(_Registry),_util=require("./util"),Kernel=function(){function e(){_classCallCheck(this,e),this._registry=new _Registry2["default"],this._linker=new _Linker2["default"],this._linker.delegate=this._registry,this._registry.resolvers.push(new _LazyResolver2["default"](this)),this._registry.resolvers.push(new _OptionalResolver2["default"](this)),this._registry.asyncResolvers.push(new _OptionalResolver2["default"](this)),this.localResolvers=[new _OptionalLocalResolver2["default"](this)]}return _createClass(e,[{key:"resolve",value:function(e){return this.invoke([e,function(e){return e}])}},{key:"resolveAsync",value:function(e){return this.invokeAsync([e,function(e){return e}])}},{key:"invoke",value:function(e,r,t){return this.factoryFrom(e,r,t)()}},{key:"invokeChild",value:function(e,r,t){return this.factoryFromChild(e,r,t)()}},{key:"invokeAsync",value:function(e,r,t){return this.factoryFromAsync(e,r,t).then(function(e){return e()})}},{key:"invokeChildAsync",value:function(e,r,t){return this.factoryFromChildAsync(e,r,t).then(function(e){return e()})}},{key:"factoryFrom",value:function(e,r,t){return this._linker.factoryFromRecipe(this._recipeFromArgs(e,r,t))}},{key:"factoryFromAsync",value:function(e,r,t){return this._linker.factoryFromRecipeAsync(this._recipeFromArgs(e,r,t))}},{key:"factoryFromChild",value:function(e,r,t){return this._linker.factoryFromRecipe(this._childRecipeFromArgs(e,r,t))}},{key:"factoryFromChildAsync",value:function(e,r,t){return this._linker.factoryFromRecipeAsync(this._childRecipeFromArgs(e,r,t))}},{key:"factoryFor",value:function(e){return this.factoryFrom([e,function(e){return e}])}},{key:"factoryForAsync",value:function(e){return this.factoryFromAsync([e,function(e){return e}])}},{key:"register",value:function(e,r){this.registerFactory(e,function(){return r})}},{key:"registerLazy",value:function(e,r){this.registerAsyncFactoryAsSingleton(e,function(){return r})}},{key:"unregister",value:function(e){delete this._registry.targets[e],delete this._registry.asyncTargets[e]}},{key:"registerFactory",value:function(e,r){(0,_util.validateTarget)(r),this._registry.targets[e]=r}},{key:"registerFactoryAsSingleton",value:function(e,r){(0,_util.validateTarget)(r),this._registry.targets[e]=this._singletonFactory(r)}},{key:"registerAsyncFactory",value:function(e,r){(0,_util.validateTarget)(r),this._registry.asyncTargets[e]=this._asyncFactory(e,r)}},{key:"registerAsyncFactoryAsSingleton",value:function(e,r){(0,_util.validateTarget)(r),r=this._asyncFactory(e,r);var t;this._registry.asyncTargets[e]=function(){return void 0===t&&(t=r()),t}}},{key:"registerAlias",value:function(e,r){this._registry.redirects.push({redirect:function(t){return t===e?r:void 0}})}},{key:"delegate",value:function(e,r){var t=(0,_util.matchFromPattern)(e);this._registry.resolvers.push({resolve:function(e,n){return t(e)?r(e,n):void 0}})}},{key:"delegateAsync",value:function(e,r){var t=(0,_util.matchFromPattern)(e);this._registry.asyncResolvers.push({resolveAsync:function(e,n){return Promise.resolve().then(function(){return t(e)?r(e,n):void 0})}})}},{key:"delegateNamespace",value:function(e,r){this._registry.resolvers.push({resolve:function(t){return t.startsWith(e)?r.factoryFor(t.substr(e.length)):void 0}}),this._registry.asyncResolvers.push({resolveAsync:function(t){return Promise.resolve().then(function(){return t.startsWith(e)?r.factoryForAsync(t.substr(e.length)):void 0})}})}},{key:"targetForName",value:function(e){return this._registry.targets[e]}},{key:"asyncTargetForName",value:function(e){var r=this;if(this._registry.asyncTargets[e])return this._registry.asyncTargets[e];if(this._registry.targets[e]){var t=function(){var t=r._registry.targets[e];return{v:function(){return Promise.resolve(t)}}}();if("object"===("undefined"==typeof t?"undefined":_typeof(t)))return t.v}}},{key:"_recipeFromArgs",value:function(e,r,t){var n=this;e&&"string"!=typeof e&&(t=r,r=e,e=null);var i=(0,_util.recipeFromTarget)(r);return i.name=e||i.name,t&&(i.ingredients=i.ingredients.map(function(e){var r=t[e];return void 0===r&&(r=n.localResolvers.reduce(function(r,n){return void 0===r?n.resolve(e,t):r},void 0)),void 0!==r?function(){return r}:e})),i}},{key:"_childRecipeFromArgs",value:function(e,r,t){return new _Recipe2["default"]({create:function(e){return e},ingredients:[this._recipeFromArgs(e,r,t)]})}},{key:"_singletonFactory",value:function(e){var r,t=(0,_util.recipeFromTarget)(e);return t.ingredients.concat(function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];return void 0===r&&(r=t.create.apply(void 0,n)),r})}},{key:"_asyncFactory",value:function(e,r){var t=this,n=(0,_util.recipeFromTarget)(r);return function(){return t.invokeChildAsync(e,n.ingredients.concat([function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return Promise.resolve().then(function(){return n.create.apply(void 0,r)}).then(function(e){return function(){return e}})}]))}}},{key:"resolvers",get:function(){return this._registry.resolvers},set:function(e){this._registry.resolvers=e}},{key:"asyncResolvers",get:function(){return this._registry.asyncResolvers},set:function(e){this._registry.asyncResolvers=e}},{key:"redirects",get:function(){return this._registry.redirects},set:function(e){this._registry.redirects=e}}]),e}();exports["default"]=Kernel;

},{"./LazyResolver":19,"./Linker":20,"./OptionalLocalResolver":21,"./OptionalResolver":22,"./Recipe":23,"./Registry":24,"./util":30}],19:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),LazyResolver=function(){function e(n){_classCallCheck(this,e),this.kernel=n,this.pattern=/\.\.\.$/}return _createClass(e,[{key:"resolve",value:function(e,n){var r=this;if(this.pattern.test(e)){e=e.substr(0,e.length-3);var t;return function(){return t||!function(){t=Promise.resolve();var a=void 0;t.then=function(){for(var t=arguments.length,o=Array(t),i=0;t>i;i++)o[i]=arguments[i];return a||(a=Promise.resolve().then(function(){var t=[e,function(e){return e}];return n&&n.isChildNode?r.kernel.invokeChildAsync(n.name,t):r.kernel.invokeAsync(t)})),a.then.apply(a,o)}}(),t}}}}]),e}();exports["default"]=LazyResolver;

},{}],20:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),_Recipe=require("./Recipe"),_Recipe2=_interopRequireDefault(_Recipe),_Component=require("./Component"),_Component2=_interopRequireDefault(_Component),_util=require("./util"),_InvalidOperationError=require("./InvalidOperationError"),_InvalidOperationError2=_interopRequireDefault(_InvalidOperationError),Linker=function(){function e(){_classCallCheck(this,e),this.delegate=null}return _createClass(e,[{key:"factoryFromRecipe",value:function(e){for(var r=this,n=this._componentFromRecipe(e),t=[n],i=function(){var e=t.shift();e.recipe.ingredients.forEach(function(n,i){var o;o="string"==typeof n?r.delegate.recipeForName(n,{name:e.recipe.name,isChildNode:!!e.parent}):n instanceof _Recipe2["default"]?n:(0,_util.recipeFromTarget)(n);var a=r._makeChildComponent(e,o,i);t.push(a)})};t.length>0;)i();return this._factoryFromComponent(n)}},{key:"factoryFromRecipeAsync",value:function(e){var r=this;return Promise.resolve().then(function(){var n=r._componentFromRecipe(e),t=function i(e){return r.delegate.recipesByNameAsync(e.recipe.ingredients.filter(function(e){return"string"==typeof e}),{name:e.recipe.name,isChildNode:!!e.parent}).then(function(n){return Promise.all(e.recipe.ingredients.map(function(t,i){var o;return o="string"==typeof t?n[t]:t instanceof _Recipe2["default"]?t:(0,_util.recipeFromTarget)(t),r._makeChildComponent(e,o,i)}).map(i))})};return t(n).then(function(){return r._factoryFromComponent(n)})})}},{key:"_factoryFromComponent",value:function(e){for(var r=[],n=[e];n.length>0;){var t=n.shift();r.push(t),n=n.concat(t.children)}return r.reverse().pop(),function(){for(var n=arguments.length,t=Array(n),i=0;n>i;i++)t[i]=arguments[i];for(var o=0,a=r.length;a>o;o++){var c=r[o];c.parent.prep[c.order]=c.recipe.create.apply(void 0,c.prep),c.prep=[]}return t=e.prep.concat(t),e.prep=[],e.recipe.create.apply(void 0,t)}}},{key:"_makeChildComponent",value:function(e,r,n){var t=this._componentFromRecipe(r,{parent:e,order:n});return e.children[n]=t,this._checkForCircularDependency(t),t}},{key:"_checkForCircularDependency",value:function(e){for(var r=e.parent,n=e;r;){if(null!==r.recipe.name&&r.recipe.name===e.recipe.name)throw new _InvalidOperationError2["default"]("Detected circular dependency to '"+e.recipe.name+"' through '"+n.recipe.name+"'.");n=r,r=r.parent}}},{key:"_componentFromRecipe",value:function(e,r){var n=this,t=new _Component2["default"](e);return r&&(t.parent=r.parent,t.order=r.order),t.recipe.ingredients=t.recipe.ingredients.map(function(e){return"string"==typeof e?n.delegate.resolveName(e,{name:t.recipe.name,isChildNode:!!t.parent}):e}),t}}]),e}();exports["default"]=Linker;

},{"./Component":16,"./InvalidOperationError":17,"./Recipe":23,"./util":30}],21:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),OptionalLocalResolver=function(){function e(t){_classCallCheck(this,e),this.kernel=t,this.pattern=/\?$/}return _createClass(e,[{key:"resolve",value:function(e,t){return this.pattern.test(e)?(e=e.substr(0,e.length-1),t[e]):void 0}}]),e}();exports["default"]=OptionalLocalResolver;

},{}],22:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),OptionalResolver=function(){function e(t){_classCallCheck(this,e),this.kernel=t,this.pattern=/\?$/}return _createClass(e,[{key:"resolve",value:function(e){return this.pattern.test(e)?(e=e.substr(0,e.length-1),this.kernel.targetForName(e)?this.kernel.factoryFor(e):function(){}):void 0}},{key:"resolveAsync",value:function(e){return this.pattern.test(e)?(e=e.substr(0,e.length-1),this.kernel.asyncTargetForName(e)?this.kernel.factoryForAsync(e):Promise.resolve(function(){})):Promise.resolve()}}]),e}();exports["default"]=OptionalResolver;

},{}],23:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Recipe=function(){function e(n){_classCallCheck(this,e),n=n||{},this.name=n.name||null,this.create=n.create,this.ingredients=(n.ingredients||[]).slice()}return _createClass(e,[{key:"clone",value:function(){return new e(this)}}]),e}();exports["default"]=Recipe;

},{}],24:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_Recipe=require("./Recipe"),_Recipe2=_interopRequireDefault(_Recipe),_util=require("./util"),_ServiceNotFoundError=require("./ServiceNotFoundError"),_ServiceNotFoundError2=_interopRequireDefault(_ServiceNotFoundError),_InvalidOperationError=require("./InvalidOperationError"),_InvalidOperationError2=_interopRequireDefault(_InvalidOperationError),Registry=function(){function e(){_classCallCheck(this,e),this.targets={},this.asyncTargets={},this.resolvers=[],this.asyncResolvers=[],this.redirects=[]}return _createClass(e,[{key:"recipeForName",value:function(e,r){return this._recipeFromTarget(e,this._locateTarget(e,r))}},{key:"recipesByNameAsync",value:function(e,r){var t=this;return e=(0,_util.distinct)(e),Promise.all(e.map(function(e){return t._locateTargetAsync(e,r)})).then(function(r){for(var n={},i=0;i<e.length;i++){var a=e[i];n[a]=t._recipeFromTarget(a,r[i])}return n})}},{key:"resolveName",value:function(e,r){for(var t=e,n=[];;){if(n.indexOf(e)>-1)throw new _InvalidOperationError2["default"]("Redirect loop encountered while resolving '"+e+"' for '"+t+"'");n.push(e);var i=this.redirects.reduce(function(t,n){return t||n.redirect(e,r)},null);if(!i)return e;e=i}}},{key:"_recipeFromTarget",value:function(e,r){var t=(0,_util.recipeFromTarget)(r),n=t.ingredients,i=t.create;return new _Recipe2["default"]({name:e,create:i,ingredients:n})}},{key:"_locateTarget",value:function(e,r){if(this.targets[e])return this.targets[e];var t=this.resolvers.reduce(function(t,n){return t||n.resolve(e,r)},null);if(void 0===t){var n="Could not locate service '"+e+"'";throw r&&r.name&&(n+=" for '"+r.name+"'"),new _ServiceNotFoundError2["default"](n)}return(0,_util.validateTarget)(t),t}},{key:"_locateTargetAsync",value:function(e,r){var t=this;if(this.asyncTargets[e])return this.asyncTargets[e]();if(this.targets[e])return this.targets[e];var n=this.asyncResolvers.slice(),i=function a(){var t=n.shift();return t?t.resolveAsync(e,r).then(function(e){return e||a()}):void 0};return Promise.resolve().then(i).then(function(n){return void 0===n?t._locateTarget(e,r):((0,_util.validateTarget)(n),n)})}}]),e}();exports["default"]=Registry;

},{"./InvalidOperationError":17,"./Recipe":23,"./ServiceNotFoundError":25,"./util":30}],25:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _extendableBuiltin(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var ServiceNotFoundError=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t));return r.name="ServiceNotFoundError",r.message=t,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=new Error(t).stack,r}return _inherits(e,t),e}(_extendableBuiltin(Error));exports["default"]=ServiceNotFoundError;

},{}],26:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ServiceNotFoundError=exports.LazyResolver=exports.Kernel=exports.InvalidOperationError=exports.Bundle=void 0;var _Bundle2=require("./Bundle"),_Bundle3=_interopRequireDefault(_Bundle2),_InvalidOperationError2=require("./InvalidOperationError"),_InvalidOperationError3=_interopRequireDefault(_InvalidOperationError2),_Kernel2=require("./Kernel"),_Kernel3=_interopRequireDefault(_Kernel2),_LazyResolver2=require("./LazyResolver"),_LazyResolver3=_interopRequireDefault(_LazyResolver2),_ServiceNotFoundError2=require("./ServiceNotFoundError"),_ServiceNotFoundError3=_interopRequireDefault(_ServiceNotFoundError2);exports.Bundle=_Bundle3["default"],exports.InvalidOperationError=_InvalidOperationError3["default"],exports.Kernel=_Kernel3["default"],exports.LazyResolver=_LazyResolver3["default"],exports.ServiceNotFoundError=_ServiceNotFoundError3["default"];

},{"./Bundle":15,"./InvalidOperationError":17,"./Kernel":18,"./LazyResolver":19,"./ServiceNotFoundError":25}],27:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){var t;return"function"==typeof e?t=e.$inject||[]:(t=e.slice(),e=t.pop()),t.concat([e])};

},{}],28:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return r.map(function(e,r){return 0===r?e.replace(/\/$/,""):e.replace(/(^\/|\/$)/g,"")}).join("/")};

},{}],29:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){return e.reduce(function(e,t){return-1===e.indexOf(t)?e.concat([t]):e},[])};

},{}],30:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateTarget=exports.recipeFromTarget=exports.matchFromPattern=exports.distinct=exports.combinePaths=exports.arrayFromTarget=void 0;var _arrayFromTarget2=require("./arrayFromTarget"),_arrayFromTarget3=_interopRequireDefault(_arrayFromTarget2),_combinePaths2=require("./combinePaths"),_combinePaths3=_interopRequireDefault(_combinePaths2),_distinct2=require("./distinct"),_distinct3=_interopRequireDefault(_distinct2),_matchFromPattern2=require("./matchFromPattern"),_matchFromPattern3=_interopRequireDefault(_matchFromPattern2),_recipeFromTarget2=require("./recipeFromTarget"),_recipeFromTarget3=_interopRequireDefault(_recipeFromTarget2),_validateTarget2=require("./validateTarget"),_validateTarget3=_interopRequireDefault(_validateTarget2);exports.arrayFromTarget=_arrayFromTarget3["default"],exports.combinePaths=_combinePaths3["default"],exports.distinct=_distinct3["default"],exports.matchFromPattern=_matchFromPattern3["default"],exports.recipeFromTarget=_recipeFromTarget3["default"],exports.validateTarget=_validateTarget3["default"];

},{"./arrayFromTarget":27,"./combinePaths":28,"./distinct":29,"./matchFromPattern":31,"./recipeFromTarget":32,"./validateTarget":33}],31:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(t){return"function"==typeof t?t:"string"==typeof t?function(e){return e===t}:function(e){return t.test(e)}};

},{}],32:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){return e=(0,_arrayFromTarget2["default"])(e),new _Recipe2["default"]({create:e[e.length-1],ingredients:e.slice(0,e.length-1)})};var _Recipe=require("../Recipe"),_Recipe2=_interopRequireDefault(_Recipe),_arrayFromTarget=require("./arrayFromTarget"),_arrayFromTarget2=_interopRequireDefault(_arrayFromTarget);

},{"../Recipe":23,"./arrayFromTarget":27}],33:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){if("function"!=typeof e){if(!Array.isArray(e))throw new Error("Expected target to be an array or function.");if("function"!=typeof e[e.length-1])throw new Error("The last element of an array target should be a function.")}};

},{}]},{},[6])(6)
});
//# sourceMappingURL=palkia.min.js.map?3013c80e47ca84d07e9591ddffb88edd96bfefd0
